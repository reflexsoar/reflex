{"version":3,"sources":["webpack:///./src/views/CreatePlaybook.vue?74d7","webpack:///src/views/CreatePlaybook.vue","webpack:///./src/views/CreatePlaybook.vue?f860","webpack:///./src/views/CreatePlaybook.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","$event","preventDefault","createPlaybook","_v","staticClass","model","value","callback","$$v","name","expression","scopedSlots","_u","key","fn","proxy","description","tags","addTag","selected","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,OAAO,CAACE,MAAM,CAAC,IAAM,KAAK,CAACF,EAAG,QAAQ,CAACA,EAAG,OAAO,CAACE,MAAM,CAAC,IAAM,aAAa,KAAO,0EAA0EF,EAAG,YAAY,CAACA,EAAG,QAAQ,CAACG,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBT,EAAIU,eAAeF,MAAW,CAACJ,EAAG,KAAK,CAACJ,EAAIW,GAAG,qBAAqBP,EAAG,IAAI,CAACQ,YAAY,cAAc,CAACZ,EAAIW,GAAG,uDAAuDP,EAAG,SAAS,CAACE,MAAM,CAAC,YAAc,gBAAgB,SAAW,GAAG,MAAQ,iBAAiBO,MAAM,CAACC,MAAOd,EAAQ,KAAEe,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKD,GAAKE,WAAW,UAAUd,EAAG,YAAY,CAACE,MAAM,CAAC,YAAc,qEAAqE,SAAW,GAAG,MAAQ,eAAea,YAAYnB,EAAIoB,GAAG,CAAC,CAACC,IAAI,kBAAkBC,GAAG,WAAW,MAAO,CAAClB,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,uBAAuBiB,OAAM,KAAQV,MAAM,CAACC,MAAOd,EAAe,YAAEe,SAAS,SAAUC,GAAMhB,EAAIwB,YAAYR,GAAKE,WAAW,iBAAiBd,EAAG,MAAM,CAACQ,YAAY,aAAaN,MAAM,CAAC,KAAO,UAAU,CAACF,EAAG,QAAQ,CAACQ,YAAY,eAAe,CAACZ,EAAIW,GAAG,UAAUP,EAAG,cAAc,CAACE,MAAM,CAAC,YAAc,wCAAwC,UAAW,EAAK,kBAAkB,cAAc,WAAW,OAAO,MAAQ,OAAO,QAAUN,EAAIyB,KAAK,UAAW,GAAMlB,GAAG,CAAC,IAAMP,EAAI0B,QAAQb,MAAM,CAACC,MAAOd,EAAY,SAAEe,SAAS,SAAUC,GAAMhB,EAAI2B,SAASX,GAAKE,WAAW,eAAe,GAAGd,EAAG,OAAO,CAACA,EAAG,OAAO,CAACQ,YAAY,aAAaN,MAAM,CAAC,IAAM,OAAO,CAACF,EAAG,UAAU,CAACQ,YAAY,OAAON,MAAM,CAAC,MAAQ,UAAU,KAAO,WAAW,CAACN,EAAIW,GAAG,aAAa,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAC1pDiB,EAAkB,G,YC0DtB,G,UAAA,CACE,KAAF,iBACE,QAFF,WAGI,KAAJ,2BACI,KAAJ,oCACI,KAAJ,4BAEE,QAAF,CACI,eAAJ,WAAM,IAAN,OACA,YACA,mBACA,WACA,kCACM,KAAN,kCAAQ,KAAR,EAAQ,YAAR,EAAQ,IAAR,EAAQ,kBAAR,IACA,kBACQ,IAAR,cACQ,GAAR,qBACU,IAAV,aACA,GACY,KAAZ,IAEU,IAAV,gBACA,iBACc,EAAd,2BAEc,EAAd,mBAIU,IAAV,GACY,KAAZ,EACY,KAAZ,GAEU,EAAV,uCAEQ,EAAR,mBAGI,gBAAJ,WACM,IAAN,KACA,qBACM,IAAN,WACQ,EAAR,MAAU,MAAV,aAAU,MAAV,eAEM,OAAN,GAEI,OAvCJ,SAuCA,GACM,IAAN,GACQ,KAAR,EACQ,KAAR,GACQ,MAAR,WAEM,KAAN,aACM,KAAN,mBAGE,SAAF,yCACE,KAzDF,WA0DI,MAAJ,CACM,KAAN,GACM,YAAN,GACM,IAAN,GACM,SAAN,EACM,aAAN,GACM,kBAAN,GACM,KAAN,EACM,SAAN,OC7HwV,I,YCOpVC,EAAY,eACd,EACA9B,EACA6B,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chunk-2d0ccf9c.0fc59f8a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CRow',[_c('CCol',{attrs:{\"col\":\"\"}},[_c('CCard',[_c('link',{attrs:{\"rel\":\"stylesheet\",\"href\":\"https://unpkg.com/vue-multiselect@2.1.0/dist/vue-multiselect.min.css\"}}),_c('CCardBody',[_c('CForm',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createPlaybook($event)}}},[_c('h1',[_vm._v(\"Create Playbook\")]),_c('p',{staticClass:\"text-muted\"},[_vm._v(\"Fill out the form below to create a new playbook.\")]),_c('CInput',{attrs:{\"placeholder\":\"Playbook Name\",\"required\":\"\",\"label\":\"Playbook Name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('CTextarea',{attrs:{\"placeholder\":\"Enter a description for the playbook.  The more detail the better.\",\"required\":\"\",\"label\":\"Description\"},scopedSlots:_vm._u([{key:\"prepend-content\",fn:function(){return [_c('CIcon',{attrs:{\"name\":\"cil-description\"}})]},proxy:true}]),model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}}),_c('div',{staticClass:\"form-group\",attrs:{\"role\":\"group\"}},[_c('label',{staticClass:\"typo__label\"},[_vm._v(\"Tags\")]),_c('multiselect',{attrs:{\"placeholder\":\"Select tags to apply to this playbook\",\"taggable\":true,\"tag-placeholder\":\"Add new tag\",\"track-by\":\"name\",\"label\":\"name\",\"options\":_vm.tags,\"multiple\":true},on:{\"tag\":_vm.addTag},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1),_c('CRow',[_c('CCol',{staticClass:\"text-right\",attrs:{\"col\":\"12\"}},[_c('CButton',{staticClass:\"px-4\",attrs:{\"color\":\"primary\",\"type\":\"submit\"}},[_vm._v(\"Create\")])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<CRow>\r\n  <CCol col>\r\n    <CCard><link rel=\"stylesheet\" href=\"https://unpkg.com/vue-multiselect@2.1.0/dist/vue-multiselect.min.css\">\r\n        <CCardBody>\r\n            <CForm @submit.prevent=\"createPlaybook\" >\r\n                <h1>Create Playbook</h1>\r\n                <p class=\"text-muted\">Fill out the form below to create a new playbook.</p>\r\n                <CInput\r\n                  placeholder=\"Playbook Name\"\r\n                  required\r\n                  v-model=\"name\"\r\n                  label=\"Playbook Name\"\r\n                >\r\n                </CInput>\r\n                <CTextarea\r\n                  placeholder=\"Enter a description for the playbook.  The more detail the better.\"\r\n                  required\r\n                  v-model=\"description\"\r\n                  label=\"Description\"\r\n                >\r\n                  <template #prepend-content><CIcon name=\"cil-description\"/></template>\r\n                </CTextarea>\r\n                <!--<div role=\"group\" class=\"form-group\">\r\n                  <label class=\"typo__label\">Organization</label>\r\n                  <multiselect v-model=\"organization_uuid\" placeholder=\"Select an organization\" track-by=\"label\" label=\"label\" :options=\"formatOrgSelect()\">\r\n                  </multiselect>\r\n                </div>-->\r\n                <div role=\"group\" class=\"form-group\">\r\n                  <label class=\"typo__label\">Tags</label>\r\n                  <multiselect v-model=\"selected\" placeholder=\"Select tags to apply to this playbook\" :taggable=\"true\" tag-placeholder=\"Add new tag\" track-by=\"name\" label=\"name\" :options=\"tags\" :multiple=\"true\" @tag=\"addTag\">\r\n                  </multiselect>\r\n                </div>\r\n                <!--<CRow>\r\n                  <CCol col=\"12\">\r\n                    <label>Tags</label>\r\n                    <v-select placeholder=\"Enter your tags here...\" taggable multiple push-tags v-model=\"selected\" name=\"tags\" :options=\"tags\" label=\"name\">\r\n                      <span slot='no-options'><i>No tags found...add your own by typing</i></span>\r\n                    </v-select>\r\n                    <br>\r\n                  </CCol>\r\n                </CRow>-->\r\n                <CRow>\r\n                  <CCol col=\"12\" class=\"text-right\">\r\n                    <CButton color=\"primary\" class=\"px-4\" type=\"submit\">Create</CButton>\r\n                  </CCol>\r\n                </CRow>\r\n              </CForm>\r\n        </CCardBody>\r\n    </CCard>\r\n  </CCol>\r\n</CRow>\r\n</template>\r\n\r\n<script>\r\nimport {mapState} from \"vuex\";\r\nimport {vSelect} from \"vue-select\";\r\nimport {required, minLength, between, url} from 'vuelidate/lib/validators'\r\n\r\nexport default {\r\n    name: 'CreatePlaybook',\r\n    created() {\r\n      this.$store.dispatch('getTags')\r\n      this.$store.dispatch('getOrganizations')\r\n      this.$store.commit('add_start') // Stop the success/fail add from showing up when changing from other pages     \r\n    },\r\n    methods: {\r\n      createPlaybook: function () {\r\n        let name = this.name\r\n        let description = this.description\r\n        let url = this.url\r\n        let organization_uuid = this.organization_uuid['value']\r\n        this.$store.dispatch('createPlaybook', { name, description, url, organization_uuid })\r\n        .then(resp => {\r\n          let uuid = resp.data.uuid\r\n          if(this.selected.length > 0) {\r\n            let selected_tags = this.selected\r\n            let addTags = {\r\n              'tags': []\r\n            }\r\n            for(const tag in selected_tags) {\r\n              if(selected_tags[tag]['name'] !== undefined) {\r\n                  addTags['tags'].push(selected_tags[tag]['name'])\r\n              } else {\r\n                  addTags['tags'].push(selected_tags[tag])\r\n              }\r\n              \r\n            }\r\n            let postbody = {\r\n              'uuid': uuid,\r\n              'data': addTags\r\n            }\r\n            this.$store.dispatch('addTagsToPlaybook', postbody)\r\n          }\r\n          this.$router.go(-1)\r\n        })\r\n      },\r\n      formatOrgSelect: function () {\r\n          let opts = []\r\n          let orgs = this.organizations\r\n          for (const org in orgs) {\r\n              opts.push({'value': orgs[org]['uuid'], 'label': orgs[org]['name']})\r\n          }\r\n          return opts\r\n      },\r\n      addTag(newTag) {\r\n        const tag = {\r\n          name: newTag,\r\n          uuid: '',\r\n          color: '#ffffff'\r\n        }\r\n        this.tags.push(tag)\r\n        this.selected.push(tag)\r\n      }\r\n    },\r\n    computed: mapState(['tags','organizations']),\r\n    data(){\r\n      return {\r\n        name: \"\",\r\n        description: \"\",\r\n        url: \"\",\r\n        success: false,\r\n        errorMessage: \"\",\r\n        organization_uuid: \"\",\r\n        test: 0,\r\n        selected: \"\"\r\n      }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreatePlaybook.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreatePlaybook.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreatePlaybook.vue?vue&type=template&id=7f901570&\"\nimport script from \"./CreatePlaybook.vue?vue&type=script&lang=js&\"\nexport * from \"./CreatePlaybook.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}