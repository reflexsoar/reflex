{"version":3,"sources":["webpack:///./src/views/AgentDetails.vue?b828","webpack:///src/views/AgentDetails.vue","webpack:///./src/views/AgentDetails.vue?a1d3","webpack:///./src/views/AgentDetails.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","_e","loading","alert","on","$event","_v","_s","alert_message","staticClass","agent","name","scopedSlots","_u","key","fn","ref","tag","_l","description","_f","last_heartbeat","input_list","updateInputs","model","value","callback","$$v","selected","expression","group_list","updateGroups","selected_groups","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d0e97e0.0ebae646.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CRow',[_c('link',{attrs:{\"rel\":\"stylesheet\",\"href\":\"https://unpkg.com/vue-multiselect@2.1.0/dist/vue-multiselect.min.css\"}}),(_vm.loading)?_c('CCol',{attrs:{\"col\":\"\"}},[_c('div',{staticStyle:{\"margin\":\"auto\",\"text-align\":\"center\",\"verticle-align\":\"middle\"}},[_c('CSpinner',{staticStyle:{\"width\":\"6rem\",\"height\":\"6rem\"},attrs:{\"color\":\"dark\"}})],1)]):_vm._e(),(!_vm.loading)?_c('CCol',{attrs:{\"col\":\"\"}},[_c('CAlert',{attrs:{\"show\":_vm.alert,\"color\":\"success\",\"closeButton\":\"\"},on:{\"update:show\":function($event){_vm.alert=$event}}},[_vm._v(\" \"+_vm._s(_vm.alert_message)+\" \")]),_c('CCard',{staticClass:\"shadow-sm bg-white rounded\"},[_c('CCardHeader',[_c('CRow',[_c('CCol',{staticClass:\"text-left\",attrs:{\"col\":\"12\",\"lg\":\"6\",\"sm\":\"12\"}},[_c('h1',[_vm._v(_vm._s(_vm.agent.name))])]),_c('CCol',{staticClass:\"text-right\",attrs:{\"col\":\"12\",\"lg\":\"6\",\"sm\":\"12\"},scopedSlots:_vm._u([{key:\"tags\",fn:function(ref){\nvar tag = ref.tag;\nreturn [_vm._v(\" \"+_vm._s(tag.name)+\" \")]}}],null,false,508650290)},_vm._l((_vm.agent.tags),function(tag){return _c('li',{key:tag.name,staticStyle:{\"display\":\"inline\",\"margin-right\":\"2px\"}},[_c('CButton',{attrs:{\"color\":\"primary\",\"size\":\"sm\",\"disabled\":\"\"}},[_vm._v(_vm._s(tag.name))])],1)}),0)],1),_c('CRow',[_c('CCol',{attrs:{\"col\":\"12\",\"lg\":\"6\",\"sm\":\"12\"}},[_vm._v(\" \"+_vm._s(_vm.agent.description)+\" \")])],1)],1),_c('CCardBody',[_c('CRow',[_c('CCol',{attrs:{\"col\":\"6\"}},[_c('b',[_vm._v(\"Name: \")]),_vm._v(\" \"+_vm._s(_vm.agent.name)),_c('br'),_c('b',[_vm._v(\"Enabled: \")]),_vm._v(\" True\"),_c('br'),_c('b',[_vm._v(\"Plugin: \")]),_vm._v(\" Elasticsearch\"),_c('br'),_c('b',[_vm._v(\"Last Heartbeat: \")]),_vm._v(_vm._s(_vm._f(\"moment\")(_vm.agent.last_heartbeat,'from', 'now'))+\" \")])],1),_c('CRow',[_c('CCol',[_c('hr'),_c('h3',[_vm._v(\"Inputs\")]),_vm._v(\" Inputs selected here will be polled by the agent at the period defined in the input configuration.\"),_c('br'),_c('br'),_c('multiselect',{attrs:{\"placeholder\":\"Select inputs to be used by this agent\",\"track-by\":\"uuid\",\"label\":\"name\",\"options\":_vm.input_list,\"multiple\":true},on:{\"input\":function($event){return _vm.updateInputs()}},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1),_c('CCol',[_c('hr'),_c('h3',[_vm._v(\"Groups\")]),_vm._v(\" Groups selected here can be targeted by plugins to run plugins on select agents.\"),_c('br'),_c('br'),_c('multiselect',{attrs:{\"placeholder\":\"Select the groups this agent belongs to\",\"track-by\":\"uuid\",\"label\":\"name\",\"options\":_vm.group_list,\"multiple\":true},on:{\"input\":function($event){return _vm.updateGroups()}},model:{value:(_vm.selected_groups),callback:function ($$v) {_vm.selected_groups=$$v},expression:\"selected_groups\"}})],1)],1)],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   \r\n  <CRow><link rel=\"stylesheet\" href=\"https://unpkg.com/vue-multiselect@2.1.0/dist/vue-multiselect.min.css\">\r\n    <CCol col v-if=\"loading\">\r\n        <div style=\"margin: auto; text-align:center; verticle-align:middle;\">\r\n           <CSpinner\r\n                color=\"dark\"\r\n                style=\"width:6rem;height:6rem;\"\r\n            />\r\n        </div>\r\n    </CCol>\r\n    <CCol col v-if=\"!loading\">\r\n    <CAlert :show.sync=\"alert\" color=\"success\" closeButton>\r\n        {{alert_message}}\r\n    </CAlert>\r\n    <CCard class=\"shadow-sm bg-white rounded\" >\r\n        <CCardHeader>\r\n            <CRow>\r\n                <CCol col=\"12\" lg=\"6\" sm=\"12\" class=\"text-left\">\r\n                    <h1>{{agent.name}}</h1>\r\n                </CCol>\r\n                <CCol col=\"12\" lg=\"6\" sm=\"12\" class=\"text-right\">\r\n                    <template #tags='{tag}'>\r\n                        {{tag.name}}\r\n                    </template>\r\n                    <li style=\"display: inline; margin-right: 2px;\" v-for=\"tag in agent.tags\" :key=\"tag.name\"><CButton color=\"primary\" size=\"sm\" disabled>{{ tag.name }}</CButton></li>\r\n                </CCol>\r\n            </CRow>\r\n            <CRow>\r\n                <CCol col=\"12\" lg=\"6\" sm=\"12\">\r\n                    {{agent.description}}\r\n                </CCol>\r\n            </CRow>\r\n        </CCardHeader>\r\n        <CCardBody>\r\n            <CRow>\r\n                <CCol col=\"6\">\r\n                    <b>Name: </b> {{agent.name}}<br>\r\n                    <b>Enabled: </b> True<br>\r\n                    <b>Plugin: </b> Elasticsearch<br>\r\n                    <b>Last Heartbeat: </b>{{agent.last_heartbeat | moment('from', 'now')}}\r\n                </CCol>\r\n            </CRow>\r\n            <CRow>\r\n                <CCol><hr>\r\n                  <h3>Inputs</h3>\r\n                  Inputs selected here will be polled by the agent at the period defined in the input configuration.<br><br>\r\n                  <multiselect v-model=\"selected\" placeholder=\"Select inputs to be used by this agent\" track-by=\"uuid\" label=\"name\" :options=\"input_list\" :multiple=\"true\" @input=\"updateInputs()\">\r\n                  </multiselect>\r\n                </div>\r\n                </CCol>\r\n                <CCol><hr>\r\n                  <h3>Groups</h3>\r\n                  Groups selected here can be targeted by plugins to run plugins on select agents.<br><br>\r\n                  <multiselect v-model=\"selected_groups\" placeholder=\"Select the groups this agent belongs to\" track-by=\"uuid\" label=\"name\" :options=\"group_list\" :multiple=\"true\" @input=\"updateGroups()\">\r\n                  </multiselect>\r\n                </div>\r\n                </CCol>\r\n            </CRow>\r\n        </CCardBody>\r\n    </CCard>\r\n  </CCol>\r\n  </CRow>\r\n</template>\r\n\r\n<script>\r\nimport {mapState} from \"vuex\";\r\nimport {vSelect} from \"vue-select\";\r\nexport default {\r\n    name: 'InputDetails',\r\n    data() {\r\n        return {\r\n            uuid: this.$route.params.uuid,\r\n            agent: {},\r\n            input_list: [],\r\n            group_list: [],\r\n            selected: [],\r\n            selected_groups: [],\r\n            loading: true,\r\n            cardCollapse: true,\r\n            collapse: {},\r\n            toggleCollapse: true,\r\n            alert:false,\r\n            alert_message:\"\",\r\n            animate: true\r\n        }\r\n    },\r\n    created() {\r\n        this.$store.dispatch('getInputList').then(resp => {\r\n            for(let i in resp.data) {\r\n                this.input_list.push({'name': resp.data[i].name, 'uuid': resp.data[i].uuid})\r\n            }\r\n        })\r\n        this.$store.dispatch('getAgentGroups').then(resp => {\r\n            for(let i in resp.data){ \r\n                this.group_list.push({'name': resp.data[i].name, 'uuid': resp.data[i].uuid})\r\n            }\r\n        })\r\n        this.$store.dispatch('getAgent', this.$route.params.uuid).then(resp => {\r\n            this.agent = resp.data\r\n            this.selectedInputs()\r\n            this.selectedGroups()\r\n            this.loading = false\r\n        })\r\n        \r\n    },\r\n    methods: {\r\n        expandAll() {\r\n            for(const c in this.collapse) {\r\n                if(!this.collapse[c]) {\r\n                    this.collapse[c] = true\r\n                }\r\n            }\r\n\r\n            this.toggleCollapse = false\r\n        },\r\n        collapseAll() {\r\n            for(const c in this.collapse) {\r\n                if(this.collapse[c]) {\r\n                    this.collapse[c] = false\r\n                }                \r\n            }\r\n            this.toggleCollapse = true\r\n        },\r\n        addInput(input) {\r\n            this.inputs.push(input)\r\n            this.input_list.push(t)\r\n            this.selected.push(t)\r\n        },\r\n        selectedInputs() {\r\n            for(const i in this.agent.inputs) {\r\n                let input = this.agent.inputs[i]\r\n                this.selected.push({'uuid': input.uuid, 'name': input.name})\r\n            }\r\n        },\r\n        selectedGroups() {\r\n            for(const i in this.agent.groups) {\r\n                let group = this.agent.groups[i]\r\n                this.selected_groups.push({'uuid': group.uuid, 'name': group.name})\r\n            }\r\n        },\r\n        updateInputs(event) {\r\n            this.alert = 5\r\n            this.alert_message = \"Successfully updated the agents inputs.\"\r\n            let uuid = this.uuid\r\n            let inputs = { \"inputs\": []}\r\n            for(const inp in this.selected) {\r\n                inputs['inputs'].push(this.selected[inp].uuid)\r\n            }\r\n            this.$store.dispatch('setAgentInputs', {uuid, inputs} )\r\n        },\r\n        updateGroups(event) {\r\n            this.alert = 5\r\n            this.alert_message = \"Successfully updated the agents groups.\"\r\n            let groups = { \"groups\": [] }\r\n            for(const grp in this.selected_groups) {\r\n                groups['groups'].push(this.selected_groups[grp].uuid)\r\n            }\r\n            let uuid = this.uuid\r\n            this.$store.dispatch('setAgentGroups', {uuid, groups})\r\n        }\r\n    },\r\n    filters: {\r\n        firstTwo: function(value) {\r\n            if (!value) return ''\r\n            value = value.toString()\r\n            return value.substring(0,2)\r\n        },\r\n        capitalize: function (value) {\r\n            if (!value) return ''\r\n            value = value.toString()\r\n            return value.toUpperCase()\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AgentDetails.vue?vue&type=template&id=57baaaf8&\"\nimport script from \"./AgentDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./AgentDetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}