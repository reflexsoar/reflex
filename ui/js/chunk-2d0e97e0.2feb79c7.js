(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e97e0"],{"8e85":function(e,s,n){"use strict";n.r(s);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("CRow",[s("link",{attrs:{rel:"stylesheet",href:"https://unpkg.com/vue-multiselect@2.1.0/dist/vue-multiselect.min.css"}}),t.loading?s("CCol",{attrs:{col:""}},[s("div",{staticStyle:{margin:"auto","text-align":"center","verticle-align":"middle"}},[s("CSpinner",{staticStyle:{width:"6rem",height:"6rem"},attrs:{color:"dark"}})],1)]):t._e(),t.loading?t._e():s("CCol",{attrs:{col:""}},[s("CAlert",{attrs:{show:t.alert,color:"success",closeButton:""},on:{"update:show":function(e){t.alert=e}}},[t._v(" "+t._s(t.alert_message)+" ")]),s("CCard",{staticClass:"shadow-sm bg-white rounded"},[s("CCardHeader",[s("CRow",[s("CCol",{staticClass:"text-left",attrs:{col:"12",lg:"11",sm:"12"},on:{mouseover:function(e){t.name_hover=!0},mouseleave:function(e){t.name_hover=!1}}},[s("h1",[t.name_edit?t._e():s("span",[t._v(" "+t._s(t.agent.name)+" "),t.name_hover?s("a",{on:{click:function(e){t.name_edit=!t.name_edit}}},[s("CIcon",{attrs:{name:"cilPencil",size:"sm"}})],1):t._e()]),t.name_edit?s("span",[s("CInput",{attrs:{size:"lg"},scopedSlots:t._u([{key:"append",fn:function(){return[s("CButton",{staticClass:"no-shadow",attrs:{color:"danger",size:"sm"},on:{click:function(e){t.name_edit=!t.name_edit}}},[s("CIcon",{attrs:{name:"cilXCircle"}})],1),s("CButton",{staticClass:"no-shadow",attrs:{color:"primary",size:"sm"},on:{click:function(e){return t.updateAgentName()}}},[s("CIcon",{attrs:{name:"cilSave"}})],1)]},proxy:!0}],null,!1,2804263443),model:{value:t.agent.name,callback:function(e){t.$set(t.agent,"name",e)},expression:"agent.name"}})],1):t._e()])]),s("CCol",{staticClass:"text-right",attrs:{col:"12",lg:"1",sm:"12"}},[s("h1",[s("CSwitch",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:"Agent Status",expression:"'Agent Status'"}],attrs:{color:"success",size:"lg","label-on":"On","label-off":"Off",checked:t.agent.active},on:{"update:checked":function(e){return t.$set(t.agent,"active",e)}},nativeOn:{change:function(e){return t.toggleAgentActive()}}})],1)])],1),s("CRow",[s("CCol",{attrs:{col:"12",lg:"6",sm:"12"}},[t._v(" "+t._s(t.agent.description)+" ")])],1)],1),s("CCardBody",[s("CRow",[s("CCol",[s("h3",[t._v("Inputs")]),t._v(" Inputs selected here will be polled by the agent at the period defined in the input configuration."),s("br"),s("br"),s("multiselect",{attrs:{placeholder:"Select inputs to be used by this agent","track-by":"uuid",label:"name",options:t.input_list,multiple:!0},on:{input:function(e){return t.updateInputs()}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),s("CCol",[s("h3",[t._v("Groups")]),t._v(" Groups selected here can be targeted by plugins to run plugins on select agents."),s("br"),s("br"),s("multiselect",{attrs:{placeholder:"Select the groups this agent belongs to","track-by":"name ",label:"name",options:t.group_list,multiple:!0},on:{input:function(e){return t.updateGroups()}},model:{value:t.selected_groups,callback:function(e){t.selected_groups=e},expression:"selected_groups"}})],1)],1)],1),s("CCardFooter",[s("CRow",[s("CCol",{attrs:{col:"6"}},[s("label",[t._v("Last Heartbeat: ")]),t._v(" "+t._s(t._f("moment")(t.agent.last_heartbeat,"LLLL"))+" ")]),s("CCol",{staticClass:"text-right",attrs:{col:"6"}},[s("CButton",{attrs:{color:"danger"},on:{click:function(e){t.delete_modal=!0}}},[s("CIcon",{attrs:{name:"cil-trash"}})],1)],1)],1)],1)],1),s("CModal",{attrs:{title:"Delete Agent",closeOnBackdrop:!1,color:"danger",centered:!0,show:t.delete_modal},on:{"update:show":function(e){t.delete_modal=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[s("CButton",{attrs:{color:"secondary"},on:{click:function(e){return t.dismiss()}}},[t._v("No")]),s("CButton",{attrs:{type:"submit",form:"deleteForm",color:"danger"}},[t._v("Yes")])]},proxy:!0}],null,!1,233718111)},[s("CForm",{attrs:{id:"deleteForm"},on:{submit:function(e){return e.preventDefault(),t.deleteAgent()}}},[t._v(" Are you sure you want to delete the agent "),s("b",[t._v(t._s(t.agent.name))]),t._v("? "),s("CForm",{attrs:{id:"delete-agent-confirm"}},[s("CInput",{attrs:{label:"Agent Name",description:t.delete_error,required:""},model:{value:t.delete_confirm,callback:function(e){t.delete_confirm=e},expression:"delete_confirm"}})],1)],1)],1)],1)],1)},o=[],i=(n("2f62"),n("4a7a"),{name:"InputDetails",data:function(){return{uuid:this.$route.params.uuid,agent:{},input_list:[],group_list:[],selected:[],selected_groups:[],loading:!0,cardCollapse:!0,collapse:{},toggleCollapse:!0,alert:!1,alert_message:"",animate:!0,name_hover:!1,name_edit:!1,delete_modal:!1,delete_confirm:"",delete_error:"",current_tags:[]}},created:function(){var t=this;this.$store.dispatch("getInputList").then((function(e){for(var s in e.data)t.input_list.push({name:e.data[s].name,uuid:e.data[s].uuid})})),this.$store.dispatch("getAgentGroups").then((function(e){t.group_list=t.$store.getters.agent_groups})),this.$store.dispatch("getAgent",this.$route.params.uuid).then((function(e){t.agent=e.data,t.selectedInputs(),t.selectedGroups(),t.loading=!1}))},methods:{toggleAgentActive:function(){var t=this;this.$store.dispatch("updateAgent",{uuid:this.uuid,data:{active:this.agent.active}}).then((function(e){t.agent=t.$store.getters.agent}))},expandAll:function(){for(var t in this.collapse)this.collapse[t]||(this.collapse[t]=!0);this.toggleCollapse=!1},collapseAll:function(){for(var t in this.collapse)this.collapse[t]&&(this.collapse[t]=!1);this.toggleCollapse=!0},addInput:function(e){this.inputs.push(e),this.input_list.push(t),this.selected.push(t)},selectedInputs:function(){for(var t in this.agent.inputs){var e=this.agent.inputs[t];this.selected.push({uuid:e.uuid,name:e.name})}},selectedGroups:function(){for(var t in this.agent.groups){var e=this.agent.groups[t];this.selected_groups.push({uuid:e.uuid,name:e.name})}},updateInputs:function(t){this.alert=5,this.alert_message="Successfully updated the agents inputs.";var e=this.uuid,s={inputs:[]};for(var n in this.selected)s["inputs"].push(this.selected[n].uuid);this.$store.dispatch("setAgentInputs",{uuid:e,inputs:s})},updateGroups:function(t){this.alert=5,this.alert_message="Successfully updated the agents groups.";var e={groups:[]};for(var s in this.selected_groups)e["groups"].push(this.selected_groups[s].uuid);var n=this.uuid;this.$store.dispatch("setAgentGroups",{uuid:n,groups:e})},updateAgentName:function(){var t=this,e=this.uuid,s={name:this.agent.name};this.$store.dispatch("updateAgent",{uuid:e,data:s}).then((function(e){t.agent=t.$store.getters.agent})),this.name_edit=!1},deleteAgent:function(){var t=this;this.delete_confirm==this.agent.name?this.$store.dispatch("deleteAgent",this.uuid).then((function(e){t.$router.push({path:"/agents"})})):this.delete_error="Error: Entered name does not match agent name."},dismiss:function(){this.delete_error="",this.delete_confirm="",this.delete_modal=!1}},filters:{firstTwo:function(t){return t?(t=t.toString(),t.substring(0,2)):""},capitalize:function(t){return t?(t=t.toString(),t.toUpperCase()):""}}}),r=i,l=n("2877"),u=Object(l["a"])(r,a,o,!1,null,null,null);s["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0e97e0.2feb79c7.js.map