{"version":3,"sources":["webpack:///./src/views/AgentDetails.vue?5073","webpack:///src/views/AgentDetails.vue","webpack:///./src/views/AgentDetails.vue?a1d3","webpack:///./src/views/AgentDetails.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","_e","loading","alert","on","$event","_v","_s","alert_message","staticClass","name_hover","name_edit","agent","name","scopedSlots","_u","key","fn","updateAgentName","proxy","model","value","callback","$$v","$set","expression","directives","rawName","active","nativeOn","toggleAgentActive","description","input_list","updateInputs","selected","group_list","updateGroups","selected_groups","_f","last_heartbeat","delete_modal","dismiss","preventDefault","deleteAgent","delete_error","delete_confirm","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d0e97e0.2feb79c7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CRow',[_c('link',{attrs:{\"rel\":\"stylesheet\",\"href\":\"https://unpkg.com/vue-multiselect@2.1.0/dist/vue-multiselect.min.css\"}}),(_vm.loading)?_c('CCol',{attrs:{\"col\":\"\"}},[_c('div',{staticStyle:{\"margin\":\"auto\",\"text-align\":\"center\",\"verticle-align\":\"middle\"}},[_c('CSpinner',{staticStyle:{\"width\":\"6rem\",\"height\":\"6rem\"},attrs:{\"color\":\"dark\"}})],1)]):_vm._e(),(!_vm.loading)?_c('CCol',{attrs:{\"col\":\"\"}},[_c('CAlert',{attrs:{\"show\":_vm.alert,\"color\":\"success\",\"closeButton\":\"\"},on:{\"update:show\":function($event){_vm.alert=$event}}},[_vm._v(\" \"+_vm._s(_vm.alert_message)+\" \")]),_c('CCard',{staticClass:\"shadow-sm bg-white rounded\"},[_c('CCardHeader',[_c('CRow',[_c('CCol',{staticClass:\"text-left\",attrs:{\"col\":\"12\",\"lg\":\"11\",\"sm\":\"12\"},on:{\"mouseover\":function($event){_vm.name_hover = true},\"mouseleave\":function($event){_vm.name_hover = false}}},[_c('h1',[(!_vm.name_edit)?_c('span',[_vm._v(\" \"+_vm._s(_vm.agent.name)+\" \"),(_vm.name_hover)?_c('a',{on:{\"click\":function($event){_vm.name_edit = !_vm.name_edit}}},[_c('CIcon',{attrs:{\"name\":\"cilPencil\",\"size\":\"sm\"}})],1):_vm._e()]):_vm._e(),(_vm.name_edit)?_c('span',[_c('CInput',{attrs:{\"size\":\"lg\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('CButton',{staticClass:\"no-shadow\",attrs:{\"color\":\"danger\",\"size\":\"sm\"},on:{\"click\":function($event){_vm.name_edit = !_vm.name_edit}}},[_c('CIcon',{attrs:{\"name\":\"cilXCircle\"}})],1),_c('CButton',{staticClass:\"no-shadow\",attrs:{\"color\":\"primary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.updateAgentName()}}},[_c('CIcon',{attrs:{\"name\":\"cilSave\"}})],1)]},proxy:true}],null,false,2804263443),model:{value:(_vm.agent.name),callback:function ($$v) {_vm.$set(_vm.agent, \"name\", $$v)},expression:\"agent.name\"}})],1):_vm._e()])]),_c('CCol',{staticClass:\"text-right\",attrs:{\"col\":\"12\",\"lg\":\"1\",\"sm\":\"12\"}},[_c('h1',[_c('CSwitch',{directives:[{name:\"c-tooltip\",rawName:\"v-c-tooltip\",value:('Agent Status'),expression:\"'Agent Status'\"}],attrs:{\"color\":\"success\",\"size\":\"lg\",\"label-on\":\"On\",\"label-off\":\"Off\",\"checked\":_vm.agent.active},on:{\"update:checked\":function($event){return _vm.$set(_vm.agent, \"active\", $event)}},nativeOn:{\"change\":function($event){return _vm.toggleAgentActive()}}})],1)])],1),_c('CRow',[_c('CCol',{attrs:{\"col\":\"12\",\"lg\":\"6\",\"sm\":\"12\"}},[_vm._v(\" \"+_vm._s(_vm.agent.description)+\" \")])],1)],1),_c('CCardBody',[_c('CRow',[_c('CCol',[_c('h3',[_vm._v(\"Inputs\")]),_vm._v(\" Inputs selected here will be polled by the agent at the period defined in the input configuration.\"),_c('br'),_c('br'),_c('multiselect',{attrs:{\"placeholder\":\"Select inputs to be used by this agent\",\"track-by\":\"uuid\",\"label\":\"name\",\"options\":_vm.input_list,\"multiple\":true},on:{\"input\":function($event){return _vm.updateInputs()}},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1),_c('CCol',[_c('h3',[_vm._v(\"Groups\")]),_vm._v(\" Groups selected here can be targeted by plugins to run plugins on select agents.\"),_c('br'),_c('br'),_c('multiselect',{attrs:{\"placeholder\":\"Select the groups this agent belongs to\",\"track-by\":\"name \",\"label\":\"name\",\"options\":_vm.group_list,\"multiple\":true},on:{\"input\":function($event){return _vm.updateGroups()}},model:{value:(_vm.selected_groups),callback:function ($$v) {_vm.selected_groups=$$v},expression:\"selected_groups\"}})],1)],1)],1),_c('CCardFooter',[_c('CRow',[_c('CCol',{attrs:{\"col\":\"6\"}},[_c('label',[_vm._v(\"Last Heartbeat: \")]),_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(_vm.agent.last_heartbeat,'LLLL'))+\" \")]),_c('CCol',{staticClass:\"text-right\",attrs:{\"col\":\"6\"}},[_c('CButton',{attrs:{\"color\":\"danger\"},on:{\"click\":function($event){_vm.delete_modal = true}}},[_c('CIcon',{attrs:{\"name\":\"cil-trash\"}})],1)],1)],1)],1)],1),_c('CModal',{attrs:{\"title\":\"Delete Agent\",\"closeOnBackdrop\":false,\"color\":\"danger\",\"centered\":true,\"show\":_vm.delete_modal},on:{\"update:show\":function($event){_vm.delete_modal=$event}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('CButton',{attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.dismiss()}}},[_vm._v(\"No\")]),_c('CButton',{attrs:{\"type\":\"submit\",\"form\":\"deleteForm\",\"color\":\"danger\"}},[_vm._v(\"Yes\")])]},proxy:true}],null,false,233718111)},[_c('CForm',{attrs:{\"id\":\"deleteForm\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.deleteAgent()}}},[_vm._v(\" Are you sure you want to delete the agent \"),_c('b',[_vm._v(_vm._s(_vm.agent.name))]),_vm._v(\"? \"),_c('CForm',{attrs:{\"id\":\"delete-agent-confirm\"}},[_c('CInput',{attrs:{\"label\":\"Agent Name\",\"description\":_vm.delete_error,\"required\":\"\"},model:{value:(_vm.delete_confirm),callback:function ($$v) {_vm.delete_confirm=$$v},expression:\"delete_confirm\"}})],1)],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   \r\n  <CRow><link rel=\"stylesheet\" href=\"https://unpkg.com/vue-multiselect@2.1.0/dist/vue-multiselect.min.css\">\r\n    <CCol col v-if=\"loading\">\r\n        <div style=\"margin: auto; text-align:center; verticle-align:middle;\">\r\n           <CSpinner\r\n                color=\"dark\"\r\n                style=\"width:6rem;height:6rem;\"\r\n            />\r\n        </div>\r\n    </CCol>\r\n    <CCol col v-if=\"!loading\">\r\n    <CAlert :show.sync=\"alert\" color=\"success\" closeButton>\r\n        {{alert_message}}\r\n    </CAlert>\r\n    <CCard class=\"shadow-sm bg-white rounded\" >\r\n        <CCardHeader>\r\n            <CRow>\r\n                <CCol col=\"12\" lg=\"11\" sm=\"12\" class=\"text-left\" @mouseover=\"name_hover = true\" @mouseleave=\"name_hover = false\">\r\n                    <h1>\r\n                        <span v-if=\"!name_edit\">\r\n                            {{agent.name}}&nbsp;<a v-if=\"name_hover\" @click=\"name_edit = !name_edit\"><CIcon name=\"cilPencil\" size=\"sm\"/></a>\r\n                        </span>\r\n                        <span v-if=\"name_edit\">\r\n                            <CInput v-model=\"agent.name\" size=\"lg\">\r\n                            <template #append>\r\n                                <CButton color=\"danger\" @click=\"name_edit = !name_edit\" size=\"sm\"  class=\"no-shadow\"><CIcon name=\"cilXCircle\"/></CButton>\r\n                                <CButton color=\"primary\" @click=\"updateAgentName()\" class=\"no-shadow\" size=\"sm\"><CIcon name=\"cilSave\"/></CButton>\r\n                            </template>\r\n                            </CInput>\r\n                        </span>\r\n                    </h1>                   \r\n                </CCol>\r\n                <CCol col=\"12\" lg=\"1\" sm=\"12\" class=\"text-right\">\r\n                    <h1><CSwitch color=\"success\" size=\"lg\" label-on=\"On\" label-off=\"Off\" :checked.sync=\"agent.active\" v-c-tooltip=\"'Agent Status'\" v-on:change.native=\"toggleAgentActive()\"/></h1>\r\n                </CCol>\r\n            </CRow>\r\n            <CRow>\r\n                <CCol col=\"12\" lg=\"6\" sm=\"12\">\r\n                    {{agent.description}}\r\n                </CCol>\r\n            </CRow>\r\n        </CCardHeader>\r\n        <CCardBody>\r\n            <CRow>\r\n                <CCol>\r\n                  <h3>Inputs</h3>\r\n                  Inputs selected here will be polled by the agent at the period defined in the input configuration.<br><br>\r\n                  <multiselect v-model=\"selected\" placeholder=\"Select inputs to be used by this agent\" track-by=\"uuid\" label=\"name\" :options=\"input_list\" :multiple=\"true\" @input=\"updateInputs()\">\r\n                  </multiselect>\r\n                </div>\r\n                </CCol>\r\n                <CCol>\r\n                  <h3>Groups</h3>\r\n                  Groups selected here can be targeted by plugins to run plugins on select agents.<br><br>\r\n                  <multiselect v-model=\"selected_groups\" placeholder=\"Select the groups this agent belongs to\" track-by=\"name \" label=\"name\" :options=\"group_list\" :multiple=\"true\" @input=\"updateGroups()\">\r\n                  </multiselect>\r\n                </div>\r\n                </CCol>\r\n            </CRow>\r\n        </CCardBody>\r\n        <CCardFooter>\r\n            <CRow>\r\n                <CCol col=\"6\">\r\n                    <label>Last Heartbeat: </label>&nbsp;{{agent.last_heartbeat | moment('LLLL')}}\r\n                </CCol>\r\n                <CCol col=\"6\" class='text-right'>\r\n                    <CButton color='danger' @click=\"delete_modal = true\"><CIcon name='cil-trash'/></CButton>\r\n                </CCol>\r\n            </CRow>\r\n        </CCardFooter>\r\n    </CCard>\r\n    <CModal title=\"Delete Agent\" :closeOnBackdrop=\"false\" color=\"danger\" :centered=\"true\" :show.sync=\"delete_modal\">\r\n      <CForm id=\"deleteForm\" @submit.prevent=\"deleteAgent()\">\r\n        Are you sure you want to delete the agent <b>{{agent.name}}</b>?\r\n        <CForm id=\"delete-agent-confirm\">\r\n          <CInput\r\n            v-model=\"delete_confirm\"\r\n            label=\"Agent Name\"\r\n            v-bind:description=\"delete_error\"\r\n            required\r\n          ></CInput>\r\n        </CForm>\r\n      </CForm>\r\n      <template #footer>\r\n        <CButton @click=\"dismiss()\" color=\"secondary\">No</CButton>\r\n        <CButton type=\"submit\" form=\"deleteForm\" color=\"danger\">Yes</CButton>\r\n      </template>\r\n    </CModal>\r\n  </CCol>\r\n  </CRow>\r\n</template>\r\n\r\n<script>\r\nimport {mapState} from \"vuex\";\r\nimport {vSelect} from \"vue-select\";\r\nexport default {\r\n    name: 'InputDetails',\r\n    data() {\r\n        return {\r\n            uuid: this.$route.params.uuid,\r\n            agent: {},\r\n            input_list: [],\r\n            group_list: [],\r\n            selected: [],\r\n            selected_groups: [],\r\n            loading: true,\r\n            cardCollapse: true,\r\n            collapse: {},\r\n            toggleCollapse: true,\r\n            alert:false,\r\n            alert_message:\"\",\r\n            animate: true,\r\n            name_hover: false,\r\n            name_edit: false,\r\n            delete_modal: false,\r\n            delete_confirm: \"\",\r\n            delete_error: \"\",\r\n            current_tags: []\r\n        }\r\n    },\r\n    created() {\r\n        this.$store.dispatch('getInputList').then(resp => {\r\n            for(let i in resp.data) {\r\n                this.input_list.push({'name': resp.data[i].name, 'uuid': resp.data[i].uuid})\r\n            }\r\n        })\r\n        this.$store.dispatch('getAgentGroups').then(resp => {\r\n            this.group_list = this.$store.getters.agent_groups\r\n        })\r\n        this.$store.dispatch('getAgent', this.$route.params.uuid).then(resp => {\r\n            this.agent = resp.data\r\n            this.selectedInputs()\r\n            this.selectedGroups()\r\n            this.loading = false\r\n        }) \r\n    },\r\n    methods: {\r\n        \r\n        toggleAgentActive() {\r\n            this.$store.dispatch('updateAgent', {uuid: this.uuid, data: {'active':this.agent.active}}).then(resp => {\r\n                this.agent = this.$store.getters.agent\r\n            })\r\n        },\r\n        expandAll() {\r\n            for(const c in this.collapse) {\r\n                if(!this.collapse[c]) {\r\n                    this.collapse[c] = true\r\n                }\r\n            }\r\n\r\n            this.toggleCollapse = false\r\n        },\r\n        collapseAll() {\r\n            for(const c in this.collapse) {\r\n                if(this.collapse[c]) {\r\n                    this.collapse[c] = false\r\n                }                \r\n            }\r\n            this.toggleCollapse = true\r\n        },\r\n        addInput(input) {\r\n            this.inputs.push(input)\r\n            this.input_list.push(t)\r\n            this.selected.push(t)\r\n        },\r\n        selectedInputs() {\r\n            for(const i in this.agent.inputs) {\r\n                let input = this.agent.inputs[i]\r\n                this.selected.push({'uuid': input.uuid, 'name': input.name})\r\n            }\r\n        },\r\n        selectedGroups() {\r\n            for(const i in this.agent.groups) {\r\n                let group = this.agent.groups[i]\r\n                this.selected_groups.push({'uuid': group.uuid, 'name': group.name})\r\n            }\r\n        },\r\n        updateInputs(event) {\r\n            this.alert = 5\r\n            this.alert_message = \"Successfully updated the agents inputs.\"\r\n            let uuid = this.uuid\r\n            let inputs = { \"inputs\": []}\r\n            for(const inp in this.selected) {\r\n                inputs['inputs'].push(this.selected[inp].uuid)\r\n            }\r\n            this.$store.dispatch('setAgentInputs', {uuid, inputs} )\r\n        },\r\n        updateGroups(event) {\r\n            this.alert = 5\r\n            this.alert_message = \"Successfully updated the agents groups.\"\r\n            let groups = { \"groups\": [] }\r\n            for(const grp in this.selected_groups) {\r\n                groups['groups'].push(this.selected_groups[grp].uuid)\r\n            }\r\n            let uuid = this.uuid\r\n            this.$store.dispatch('setAgentGroups', {uuid, groups})\r\n        },\r\n        updateAgentName() {\r\n            let uuid = this.uuid;\r\n            let data = {\r\n                name: this.agent.name\r\n            }\r\n            this.$store.dispatch('updateAgent', {uuid, data}).then(resp => {\r\n                this.agent = this.$store.getters.agent\r\n            })\r\n            this.name_edit = false\r\n        },\r\n        deleteAgent() {\r\n            if(this.delete_confirm == this.agent.name) {\r\n                this.$store.dispatch('deleteAgent', this.uuid).then(resp => {\r\n                    this.$router.push({path: '/agents'})\r\n                })                \r\n            } else {\r\n                this.delete_error = \"Error: Entered name does not match agent name.\"\r\n            }\r\n        },\r\n        dismiss() {\r\n            this.delete_error = \"\"\r\n            this.delete_confirm = \"\"\r\n            this.delete_modal = false\r\n        }\r\n    },\r\n    filters: {\r\n        firstTwo: function(value) {\r\n            if (!value) return ''\r\n            value = value.toString()\r\n            return value.substring(0,2)\r\n        },\r\n        capitalize: function (value) {\r\n            if (!value) return ''\r\n            value = value.toString()\r\n            return value.toUpperCase()\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AgentDetails.vue?vue&type=template&id=b6254206&\"\nimport script from \"./AgentDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./AgentDetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}