(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20863c"],{a51c:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("CRow",[r("CCol",{attrs:{col:""}},[r("CButton",{attrs:{color:"primary"},on:{click:function(t){return e.newCredential()}}},[e._v("New Credential")]),r("br"),r("br"),r("CAlert",{attrs:{show:e.alert.show,color:e.alert.type,closeButton:""},on:{"update:show":function(t){return e.$set(e.alert,"show",t)}}},[e._v(" "+e._s(e.alert.message)+" ")]),r("CCard",[r("CCardHeader",[r("b",[e._v("Credentials")])]),r("CCardBody",[r("CDataTable",{attrs:{hover:e.hover,striped:e.striped,bordered:e.bordered,small:e.small,fixed:e.fixed,items:e.credentials,fields:e.fields,"items-per-page":e.small?25:10,dark:e.dark,sorter:{external:!0,resetable:!0},pagination:""},scopedSlots:e._u([{key:"name",fn:function(t){var a=t.item;return[r("td",[r("b",[e._v(e._s(a.name))])])]}},{key:"actions",fn:function(t){var a=t.item;return[r("td",{staticClass:"text-right",staticStyle:{width:"10%"}},[r("CButton",{attrs:{color:"primary",size:"sm"},on:{click:function(t){return e.getCredentialDetails(a.uuid)}}},[e._v("Edit")]),e._v(" "),r("CButton",{attrs:{color:"danger",size:"sm"},on:{click:function(t){return e.removeCredential(a.uuid)}}},[e._v("Delete")])],1)]}}])})],1)],1)],1),r("CModal",{attrs:{title:e.modal_title,centered:!0,size:"lg",show:e.modal_status,closeOnBackdrop:!1},on:{"update:show":function(t){e.modal_status=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[r("CButton",{attrs:{color:"secondary"},on:{click:function(t){return e.dismiss()}}},[e._v("Dismiss")]),r("CButton",{attrs:{type:"submit",form:"credentialForm",color:"primary"}},[e._v(e._s(e.modal_submit_text))])]},proxy:!0}])},[r("CAlert",{attrs:{show:this.error,color:"danger",closeButton:""},on:{"update:show":function(t){return e.$set(this,"error",t)}}},[e._v(" "+e._s(e.error_message)+" ")]),r("CForm",{attrs:{name:"credentialForm",id:"credentialForm"},on:{submit:function(t){return t.preventDefault(),e.modal_action(t)}}},[r("CInput",{attrs:{placeholder:"Credential Name",required:"",label:"Name"},model:{value:e.credential_data.name,callback:function(t){e.$set(e.credential_data,"name",t)},expression:"credential_data.name"}}),r("CRow",[r("CCol",[r("CInput",{attrs:{placeholder:"Username",required:"",label:"Username"},model:{value:e.credential_data.username,callback:function(t){e.$set(e.credential_data,"username",t)},expression:"credential_data.username"}})],1),r("CCol",[r("CInput",{attrs:{placeholder:"A secret",required:"Create Credential"==e.modal_title,type:"password",autocomplete:"current-password",label:"Secret"},model:{value:e.credential_data.secret,callback:function(t){e.$set(e.credential_data,"secret",t)},expression:"credential_data.secret"}})],1)],1),r("CTextarea",{attrs:{placeholder:"Enter a description for the credential.  The more detail the better.",required:"",rows:"3,",label:"Description"},scopedSlots:e._u([{key:"prepend-content",fn:function(){return[r("CIcon",{attrs:{name:"cil-description"}})]},proxy:!0}]),model:{value:e.credential_data.description,callback:function(t){e.$set(e.credential_data,"description",t)},expression:"credential_data.description"}})],1)],1),r("CModal",{attrs:{title:"Delete Credential",closeOnBackdrop:!1,color:"danger",centered:!0,show:e.delete_modal},on:{"update:show":function(t){e.delete_modal=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[r("CButton",{attrs:{color:"secondary"},on:{click:function(t){return e.dismiss_delete()}}},[e._v("No")]),r("CButton",{attrs:{type:"submit",form:"deleteForm",color:"danger"}},[e._v("Yes")])]},proxy:!0}])},[r("CForm",{attrs:{id:"deleteForm"},on:{submit:function(t){return t.preventDefault(),e.deleteCredential(e.credential_data.uuid)}}},[r("p",[e._v("Are you sure you want to delete "),r("b",[e._v(e._s(e.credential_data.name))]),e._v("? Any plugin, or input using this credential will stop working.")]),r("CForm",{attrs:{id:"delete-credential-confirm"}},[r("CInput",{attrs:{label:"Credential Name",description:e.delete_error,required:""},model:{value:e.delete_confirm,callback:function(t){e.delete_confirm=t},expression:"delete_confirm"}})],1)],1)],1)],1)},n=[],i=r("2f62"),d={name:"Credentials",props:{items:Array,fields:{type:Array,default:function(){return["name","description","actions"]}},caption:{type:String,default:"Table"},hover:Boolean,striped:Boolean,bordered:Boolean,small:Boolean,fixed:Boolean,dark:Boolean},created:function(){this.$store.dispatch("getCredentials")},computed:Object(i["b"])(["credentials","alert"]),data:function(){return{name:"",description:"",username:"",secret:"",delete_confirm:"",delete_modal:!1,delete_error:"",credential_data:{uuid:"",name:"",username:"",secret:"",description:""},modal_title:"New Credential",modal_action:this.createCredential,modal_submit_text:"Create",modal_status:!1,error:!1,error_message:""}},methods:{dismiss:function(){this.modal_status=!1},dismiss_delete:function(){this.delete_modal=!1,this.delete_confirm=""},removeCredential:function(e){this.credential_data=this.credentials.find((function(t){return t.uuid==e})),this.delete_confirm="",this.delete_modal=!0},deleteCredential:function(){var e=this,t=this.credential_data.uuid;this.credential_data.name==this.delete_confirm?this.$store.dispatch("deleteCredential",t).then((function(t){e.delete_modal=!1})):this.delete_error="Error: Entered name does not match credential name."},newCredential:function(){this.modal_title="New Credential",this.modal_submit_text="Create",this.modal_action=this.createCredential,this.modal_status=!0,this.credential_data={name:"",username:"",secret:"",description:""}},getCredentialDetails:function(e){this.credential_data={},Object.assign(this.credential_data,this.credentials.find((function(t){return t.uuid==e}))),this.modal_title="Edit Credential",this.modal_submit_text="Edit",this.modal_action=this.editCredential,this.modal_status=!0},createCredential:function(){var e=this,t=this.credential_data;this.$store.dispatch("createCredential",t).then((function(t){e.modal_status=!1}))},editCredential:function(){var e=this,t=this.credential_data.uuid,r={name:this.credential_data.name,description:this.credential_data.description,username:this.credential_data.username};""!=this.credential_data.secret&&(r.secret=this.credential_data.secret),this.$store.dispatch("updateCredential",{uuid:t,credential:r}).then((function(t){e.credential=e.$store.getters.credential,e.modal_status=!1}))},addSuccess:function(){return"success"==this.$store.getters.addSuccess}}},s=d,o=r("2877"),l=Object(o["a"])(s,a,n,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d20863c.c3e4b18c.js.map