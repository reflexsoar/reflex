(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21445c"],{afde:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CCol",[a("h2",[t._v("List Management")]),a("br"),a("CAlert",{attrs:{show:t.alert.show,color:t.alert.type,closeButton:""},on:{"update:show":function(e){return t.$set(t.alert,"show",e)}}},[t._v(" "+t._s(t.alert.message)+" ")]),"loading"==t.status?a("div",{staticStyle:{margin:"auto","text-align":"center","verticle-align":"middle"}},[a("CSpinner",{staticStyle:{width:"6rem",height:"6rem"},attrs:{color:"dark"}})],1):a("CCard",[a("CCardHeader",[a("CButton",{attrs:{color:"primary"},on:{click:function(e){return t.createListModal()}}},[t._v("New List")])],1),a("CDataTable",{attrs:{hover:t.hover,striped:t.striped,bordered:t.bordered,small:t.small,fixed:t.fixed,items:t.lists,fields:t.fields,"items-per-page":t.small?25:10,dark:t.dark,sorter:{external:!0,resetable:!0},pagination:""},scopedSlots:t._u([{key:"name",fn:function(e){var s=e.item;return[a("td",[t._v(" "+t._s(s.name)+" ")])]}},{key:"data_type",fn:function(e){var s=e.item;return[a("td",[t._v(" "+t._s(s.data_type.name)+" ")])]}},{key:"tag_on_match",fn:function(e){var s=e.item;return[a("td",[a("CSwitch",{attrs:{color:"success","label-on":"Yes","label-off":"No",checked:s.tag_on_match},on:{"update:checked":function(e){return t.$set(s,"tag_on_match",e)}}})],1)]}},{key:"actions",fn:function(e){var s=e.item;return[a("td",{staticClass:"text-right",staticStyle:{"min-width":"25px"}},[a("CButton",{attrs:{size:"sm",color:"primary"},on:{click:function(e){return t.editListModal(s.uuid)}}},[t._v("Edit")]),t._v(" "),a("CButton",{attrs:{size:"sm",color:"danger"},on:{click:function(e){return t.deleteListModal(s.uuid)}}},[t._v("Delete")])],1)]}}])})],1),a("CModal",{attrs:{title:t.modal_title,centered:!0,size:"lg",show:t.modal_status,closeOnBackdrop:!1},on:{"update:show":function(e){t.modal_status=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("CButton",{attrs:{color:"secondary"},on:{click:function(e){return t.dismiss()}}},[t._v("Dismiss")]),a("CButton",{attrs:{type:"submit",form:"listForm",color:"primary"}},[t._v(t._s(t.modal_submit_text))])]},proxy:!0}])},[a("CAlert",{attrs:{show:this.error,color:"danger",closeButton:""},on:{"update:show":function(e){return t.$set(this,"error",e)}}},[t._v(" "+t._s(t.error_message)+" ")]),a("CForm",{attrs:{id:"listForm"},on:{submit:function(e){return e.preventDefault(),t.modal_action()}}},[a("CInput",{attrs:{label:"Name",placeholder:"A friendly name for the list",required:"Create"==t.modal_submit_text},model:{value:t.list_data.name,callback:function(e){t.$set(t.list_data,"name",e)},expression:"list_data.name"}}),a("CSelect",{attrs:{options:t.list_types,value:t.list_data.list_type,label:"List Type",placeholder:"Select a list type",required:"Create"==t.modal_submit_text},on:{"update:value":function(e){return t.$set(t.list_data,"list_type",e)}}}),a("CSelect",{attrs:{options:t.data_type_list,value:t.list_data.data_type.uuid,label:"Data Type",placeholder:"Select the data type this list contains",required:"Create"==t.modal_submit_text},on:{"update:value":function(e){return t.$set(t.list_data.data_type,"uuid",e)}}}),a("CTextarea",{attrs:{label:"Values",placeholder:"Enter values separated by new lines",rows:"10",cols:"50",wrap:"off",required:"Create"==t.modal_submit_text},model:{value:t.list_data.values,callback:function(e){t.$set(t.list_data,"values",e)},expression:"list_data.values"}}),a("div",{staticClass:"form-input"},[a("label",[t._v("Tag Observables on list match?")]),a("br"),a("CSwitch",{attrs:{color:"success","label-on":"Yes","label-off":"No",checked:t.list_data.tag_on_match},on:{"update:checked":function(e){return t.$set(t.list_data,"tag_on_match",e)}}}),a("br"),t.list_data.tag_on_match?a("span",[t._v("Observables that match this list will be tagged with "),a("code",[t._v("list:"+t._s(t.list_data.name.replace(" ","-").toLowerCase()))])]):t._e()],1)],1)],1),a("CModal",{attrs:{title:"Delete List",color:"danger",centered:!0,show:t.delete_modal},on:{"update:show":function(e){t.delete_modal=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("CButton",{attrs:{color:"secondary"},on:{click:function(e){return t.dismiss()}}},[t._v("No")]),a("CButton",{attrs:{type:"submit",form:"deleteForm",color:"danger"}},[t._v("Yes")])]},proxy:!0}])},[a("CForm",{attrs:{id:"deleteForm"},on:{submit:function(e){return e.preventDefault(),t.deleteList(t.list_data.uuid)}}},[t._v(" Are you sure you want to delete "),a("b",[t._v(t._s(t.list_data.name))]),t._v("? Type the list name in the box below to confirm your intent. "),a("CForm",{attrs:{id:"delete-list-confirm"}},[a("CInput",{attrs:{label:"List",required:""},model:{value:t.delete_confirm,callback:function(e){t.delete_confirm=e},expression:"delete_confirm"}})],1)],1)],1)],1)},i=[],o=a("2f62"),l={name:"ListsList",props:{items:Array,fields:{type:Array,default:function(){return["name","list_type","data_type","value_count","tag_on_match","actions"]}},caption:{type:String,default:"Table"},hover:Boolean,striped:Boolean,bordered:Boolean,small:Boolean,fixed:Boolean,dark:Boolean},computed:Object(o["b"])(["status","alert","lists","data_types"]),created:function(){this.loadData()},watch:{modal_status:function(){this.modal_status||this.reset()}},data:function(){return{list_data:{values:"",data_type:{uuid:""},tag_on_match:!1},modal_action:null,modal_status:!1,modal_title:"",modal_submit_text:"Create",delete_modal:!1,create_list_modal:!1,error:!1,error_message:"",delete_confirm:"",list_types:["values","patterns"],data_type_list:[]}},methods:{createListModal:function(){this.modal_action=this.createList,this.modal_title="Create List",this.modal_status=!0,this.modal_submit_text="Create"},createList:function(){var t=this,e={};Object.assign(e,this.list_data),e.data_type_uuid=e.data_type.uuid,delete e["data_type"],this.$store.dispatch("createList",e).then((function(e){t.modal_status=!1})).catch((function(e){t.error=!0,t.error_message=e.response.data.message}))},editListModal:function(t){this.modal_title="Edit List",this.modal_submit_text="Edit",this.modal_mode="edit",this.modal_action=this.editList,Object.assign(this.list_data,this.lists.find((function(e){return e.uuid===t}))),this.modal_status=!0},editList:function(){var t=this,e={name:this.list_data.name,list_type:this.list_data.list_type,data_type_uuid:this.list_data.data_type.uuid,values:this.list_data.values,tag_on_match:this.list_data.tag_on_match},a=this.list_data.uuid;this.$store.dispatch("updateList",{uuid:a,data:e}).then((function(e){var s=t.lists.findIndex((function(t){return t.uuid==a}));Object.assign(t.lists[s],e.data),t.modal_status=!1}))},deleteListModal:function(t){this.list_data=this.lists.find((function(e){return e.uuid===t})),this.delete_modal=!0},deleteList:function(t){var e=this,a=this.delete_confirm;this.list_data.name==a&&this.$store.dispatch("deleteList",t).then((function(a){var s=e.lists.findIndex((function(e){return e.uuid==t}));e.lists.splice(s,1),e.delete_modal=!1}))},reset:function(){this.list_data={values:"",data_type:{uuid:""},tag_on_match:!1},this.error=!1,this.error_message=""},dismiss:function(){this.reset(),this.modal_status=!1},loadData:function(){var t=this;this.$store.dispatch("getLists").then((function(e){t.$store.commit("save_lists",e.data)})),this.$store.dispatch("getDataTypes").then((function(e){t.data_type_list=t.$store.getters.data_types_list}))}}},n=l,r=a("2877"),d=Object(r["a"])(n,s,i,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d21445c.66047a09.js.map