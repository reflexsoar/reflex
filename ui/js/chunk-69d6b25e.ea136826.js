(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69d6b25e"],{"26d3":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("CAlert",{attrs:{show:e.alert.show,color:e.alert.type,closeButton:""},on:{"update:show":function(t){return e.$set(e.alert,"show",t)}}},[e._v(" "+e._s(e.alert.message)+" ")]),s("CRow",[s("CCol",{attrs:{xs:"12",lg:"12"}},[s("CCard",[s("CCardHeader",[s("b",[e._v("Settings")])]),s("CCardBody",{staticClass:"tabbed"},[s("CTabs",[e.current_user.permissions.includes("update_settings")?s("CTab",{attrs:{active:""}},[s("template",{slot:"title"},[s("CIcon",{attrs:{name:"cil-globe-alt"}}),e._v(" "+e._s(e.tabs[0])+" ")],1),s("GlobalSettings")],2):e._e(),s("CTab",[s("template",{slot:"title"},[s("CIcon",{attrs:{name:"cil-user"}}),e._v(" "+e._s(e.tabs[1])+" ")],1),s("UsersList")],2),s("CTab",[s("template",{slot:"title"},[s("CIcon",{attrs:{name:"cil-people"}}),e._v(" "+e._s(e.tabs[2])+" ")],1),s("GroupList")],2),s("CTab",[s("template",{slot:"title"},[s("CIcon",{attrs:{name:"cil-people"}}),e._v(" "+e._s(e.tabs[3])+" ")],1)],2),s("CTab",[s("template",{slot:"title"},[s("CIcon",{attrs:{name:"cil-graph"}}),e._v(" "+e._s(e.tabs[4])+" ")],1),e._v(" 3. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. ")],2)],1)],1)],1)],1)],1)],1)},o=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("CRow",[s("CCol",{attrs:{col:""}},[e.userHas("add_user")?s("div",{staticStyle:{padding:"10px"}},[s("CButton",{attrs:{color:"primary"},on:{click:function(t){return e.createUserModal()}}},[e._v("New User")])],1):e._e(),s("CDataTable",{staticStyle:{"border-top":"1px solid #cfcfcf","overflow-x":"auto"},attrs:{hover:e.hover,striped:e.striped,bordered:e.bordered,small:e.small,fixed:e.fixed,items:e.users,fields:e.fields,"items-per-page":e.small?25:10,dark:e.dark,sorter:{external:!0,resetable:!0},pagination:""},scopedSlots:e._u([{key:"username",fn:function(t){var r=t.item;return[s("td",[e._v(" "+e._s(r.username)+" ")])]}},{key:"role",fn:function(t){var r=t.item;return[s("td",[e._v(" "+e._s(r.role.name)+" ")])]}},{key:"last_logon",fn:function(t){var r=t.item;return[r.last_logon?s("td",[e._v(" "+e._s(e._f("moment")(r.last_logon,"from","now"))+" ")]):s("td",[e._v(" Never ")])]}},{key:"actions",fn:function(t){var r=t.item;return[s("td",{staticClass:"text-right",staticStyle:{"max-width":"150px"}},[r.locked&&r.uuid!=e.current_user.uuid&&e.userHas("unlock_user")?s("CButton",{staticClass:"unlock",attrs:{size:"sm",color:"warning"},on:{click:function(t){return e.unlockUserModal(r.uuid)}}},[e._v("Unlock User")]):e._e(),e._v(" "),r.uuid!=e.current_user.uuid&&e.userHas("update_user")?s("CButton",{attrs:{size:"sm",color:"primary"},on:{click:function(t){return e.editUserModal(r.uuid)}}},[e._v("Edit User")]):e._e(),e._v(" "),r.uuid!=e.current_user.uuid&&e.userHas("delete_user")?s("CButton",{attrs:{size:"sm",color:"danger"},on:{click:function(t){return e.deleteUserModal(r.uuid)}}},[e._v("Delete User")]):e._e()],1)]}}])})],1),s("CModal",{attrs:{title:e.modal_title,centered:!0,size:"lg",show:e.modal_status},on:{"update:show":function(t){e.modal_status=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("CButton",{attrs:{color:"secondary"},on:{click:function(t){return e.dismiss()}}},[e._v("Dismiss")]),s("CButton",{attrs:{type:"submit",form:"userForm",color:"primary"}},[e._v(e._s(e.modal_submit_text))])]},proxy:!0}])},[s("CAlert",{attrs:{show:this.error,color:"danger",closeButton:""},on:{"update:show":function(t){return e.$set(this,"error",t)}}},[e._v(" "+e._s(e.error_message)+" ")]),s("CForm",{attrs:{id:"userForm"},on:{submit:function(t){return t.preventDefault(),e.modal_action()}}},[s("CInput",{attrs:{label:"Username",placeholder:"Enter a unique username for the user",required:""},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),s("CRow",[s("CCol",{attrs:{col:"6"}},[s("CInput",{attrs:{label:"First Name",placeholder:"John",required:""},model:{value:e.user.first_name,callback:function(t){e.$set(e.user,"first_name",t)},expression:"user.first_name"}})],1),s("CCol",{attrs:{col:"6"}},[s("CInput",{attrs:{label:"Last Name",placeholder:"Doe",required:""},model:{value:e.user.last_name,callback:function(t){e.$set(e.user,"last_name",t)},expression:"user.last_name"}})],1)],1),s("CInput",{attrs:{label:"Email",placeholder:"user@reflexsoar.com",required:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),s("CSelect",{attrs:{options:e.roles,required:"",label:"Role",value:e.user.role_uuid,placeholder:"Select a role"},on:{"update:value":function(t){return e.$set(e.user,"role_uuid",t)}}}),"new"==e.modal_mode?s("CInput",{attrs:{type:"password",label:"Password",placeholder:"Enter your desired password...",required:""},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}):e._e(),"new"==e.modal_mode?s("CInput",{attrs:{type:"password",label:"Confirm Password",placeholder:"Confirm password",required:""},model:{value:e.user.confirm_password,callback:function(t){e.$set(e.user,"confirm_password",t)},expression:"user.confirm_password"}}):e._e(),s("label",[e._v("User Locked?")]),s("br"),s("CSwitch",{attrs:{color:"danger","label-on":"Yes","label-off":"No",checked:e.user.locked},on:{"update:checked":function(t){return e.$set(e.user,"locked",t)}}})],1)],1),s("CModal",{attrs:{title:"Unlock User",color:"danger",centered:!0,show:e.unlock_modal},on:{"update:show":function(t){e.unlock_modal=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("CButton",{attrs:{color:"secondary"},on:{click:function(t){return e.dismiss()}}},[e._v("No")]),s("CButton",{attrs:{type:"submit",form:"unlockForm",color:"danger"}},[e._v("Yes")])]},proxy:!0}])},[s("CForm",{attrs:{id:"unlockForm"},on:{submit:function(t){return t.preventDefault(),e.unlockUser(e.user.uuid)}}},[e._v(" Are you sure you want to unlock "),s("b",[e._v(e._s(e.user.username))]),e._v("? ")])],1),s("CModal",{attrs:{title:"Delete User",color:"danger",centered:!0,show:e.delete_modal},on:{"update:show":function(t){e.delete_modal=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("CButton",{attrs:{color:"secondary"},on:{click:function(t){return e.dismiss()}}},[e._v("No")]),s("CButton",{attrs:{type:"submit",form:"deleteForm",color:"danger"}},[e._v("Yes")])]},proxy:!0}])},[s("CForm",{attrs:{id:"deleteForm"},on:{submit:function(t){return t.preventDefault(),e.deleteUser(e.user.uuid)}}},[e._v(" Are you sure you want to delete "),s("b",[e._v(e._s(e.user.username))]),e._v("? Type their username in the box below to confirm your intent. "),s("CForm",{attrs:{id:"delete-confirm"}},[s("CInput",{attrs:{label:"Username",required:""},model:{value:e.delete_confirm,callback:function(t){e.delete_confirm=t},expression:"delete_confirm"}})],1)],1)],1)],1)},a=[],i=s("2f62"),l={name:"UsersList",props:{items:Array,fields:{type:Array,default:function(){return["username","first_name","last_name","email","role","last_logon","actions"]}},caption:{type:String,default:"Table"},hover:Boolean,striped:Boolean,bordered:Boolean,small:Boolean,fixed:Boolean,dark:Boolean,alert:!1},created:function(){this.loadData(),this.loadRoles()},data:function(){return{loading:!0,newUserModal:!1,delete_modal:!1,modal_action:null,modal_status:!1,modal_title:"",modal_submit_text:"Create",modal_mode:"new",delete_confirm:"",user:{username:"",first_name:"",last_name:"",email:"",locked:!1,password:"",role_uuid:"",confirm_password:""},users:[],roles:[],empty_user:{username:"",first_name:"",last_name:"",email:"",locked:!1,password:"",role_uuid:"",confirm_password:""},user_original_data:{},error:!1,error_message:null,user_loading:!1,unlock_modal:!1}},watch:{modal_status:function(){this.modal_status||this.reset()}},computed:{current_user:function(){return this.$store.getters.current_user}},methods:{userHas:function(e){return this.current_user.permissions.includes(e)},createUserModal:function(){this.modal_title="Create User",this.modal_submit_text="Create",this.modal_status=!0,this.modal_mode="new",this.modal_action=this.createUser},editUserModal:function(e){this.modal_title="Edit User",this.modal_submit_text="Edit",this.modal_mode="edit",this.modal_action=this.editUser,Object.assign(this.user,this.users.find((function(t){return t.uuid===e}))),this.user.role_uuid=this.user.role.uuid,this.modal_status=!0},unlockUserModal:function(e){this.user=this.users.find((function(t){return t.uuid===e})),this.unlock_modal=!0},deleteUserModal:function(e){this.user=this.users.find((function(t){return t.uuid===e})),this.delete_modal=!0},createUser:function(){var e=this,t=this.user;if(t["confirm_password"]!=t["password"])return this.error=!0,void(this.error_message="Passwords do not match.");delete t["confirm_password"],delete t["locked"],this.$store.dispatch("createUser",t).then((function(t){e.modal_status=!1,e.lists=e.$store.getters.lists})).catch((function(t){e.error=!0,e.error_message=t.response.data.message}))},editUser:function(){var e=this,t={username:this.user.username,first_name:this.user.first_name,last_name:this.user.last_name,email:this.user.email,role_uuid:this.user.role_uuid,locked:this.user.locked},s=this.user.uuid;this.$store.dispatch("updateUser",{uuid:s,user:t}).then((function(t){var r=e.users.findIndex((function(e){return e.uuid==s}));Object.assign(e.users[r],t.data),e.modal_status=!1}))},unlockUser:function(e){var t=this;this.$store.dispatch("unlockUser",e).then((function(e){t.unlock_modal=!1,t.user.locked=!1})).catch((function(e){t.error=!0,t.error_message=e.response.data.message}))},deleteUser:function(e){var t=this,s=this.delete_confirm;this.user.username==s&&this.$store.dispatch("deleteUser",e).then((function(s){var r=t.users.findIndex((function(t){return t.uuid==e}));t.users.splice(r,1),t.delete_modal=!1}))},addSuccess:function(){return"success"==this.$store.getters.addSuccess},loadData:function(){var e=this;this.loading=!0,this.$store.dispatch("getUsers").then((function(t){e.users=t.data,e.loading=!1}))},reset:function(){this.user={},this.error=!1,this.error_message=""},dismiss:function(){this.reset(),this.delete_modal=!1},loadRoles:function(){var e=this;this.$store.dispatch("getRoles").then((function(t){for(var s in t.data)e.roles.push({label:t.data[s].name,value:t.data[s].uuid})}))}}},u=l,c=(s("4569"),s("2877")),d=Object(c["a"])(u,n,a,!1,null,"5b547261",null),m=d.exports,_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("CRow",[e.loading?s("CCol",{attrs:{col:""}},[s("div",{staticStyle:{margin:"auto","text-align":"center","verticle-align":"middle"}},[s("CSpinner",{staticStyle:{width:"6rem",height:"6rem"},attrs:{color:"dark"}})],1)]):s("CCol",{attrs:{col:""}},[s("div",{staticStyle:{padding:"10px"}},[s("CButton",{attrs:{color:"primary"},on:{click:function(t){return e.generateToken()}}},[e._v("New Agent")])],1),s("CDataTable",{staticStyle:{"border-top":"1px solid #cfcfcf"},attrs:{hover:e.hover,striped:e.striped,bordered:e.bordered,small:e.small,fixed:e.fixed,items:e.roles,fields:e.fields,"items-per-page":e.small?25:10,dark:e.dark,sorter:{external:!0,resetable:!0},pagination:""},scopedSlots:e._u([{key:"name",fn:function(t){var r=t.item;return[s("td",[s("router-link",{attrs:{to:""+r.uuid}},[e._v(e._s(r.name))])],1)]}}])})],1)],1)},p=[],f={name:"RoleList",props:{items:Array,fields:{type:Array,default:function(){return["name","description","user_count"]}},caption:{type:String,default:"Table"},hover:Boolean,striped:Boolean,bordered:Boolean,small:Boolean,fixed:Boolean,dark:Boolean,alert:!1},created:function(){this.loadData()},data:function(){return{loading:!0}},methods:{addSuccess:function(){return"success"==this.$store.getters.addSuccess},loadData:function(){var e=this;this.loading=!0,this.$store.dispatch("getRoles").then((function(t){e.roles=t.data,e.loading=!1}))}}},h=f,g=Object(c["a"])(h,_,p,!1,null,null,null),v=(g.exports,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("CRow",[s("link",{attrs:{rel:"stylesheet",href:"https://unpkg.com/vue-multiselect@2.1.0/dist/vue-multiselect.min.css"}}),e.loading?s("CCol",{attrs:{col:""}},[s("div",{staticStyle:{margin:"auto","text-align":"center","verticle-align":"middle"}},[s("CSpinner",{staticStyle:{width:"6rem",height:"6rem"},attrs:{color:"dark"}})],1)]):s("CCol",{attrs:{col:""}},[s("div",{staticStyle:{padding:"10px"}},[s("CButton",{attrs:{color:"primary"},on:{click:function(t){return e.createGroupModal()}}},[e._v("New Group")])],1),s("CDataTable",{staticStyle:{"border-top":"1px solid #cfcfcf"},attrs:{hover:e.hover,striped:e.striped,bordered:e.bordered,small:e.small,fixed:e.fixed,items:e.groups,fields:e.fields,"items-per-page":e.small?25:10,dark:e.dark,sorter:{external:!0,resetable:!0},pagination:""},scopedSlots:e._u([{key:"name",fn:function(t){var r=t.item;return[s("td",[s("router-link",{attrs:{to:""+r.uuid}},[e._v(e._s(r.name))])],1)]}}])})],1),s("CModal",{attrs:{title:e.modal_title,centered:!0,size:"lg",show:e.modal_status},on:{"update:show":function(t){e.modal_status=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("CButton",{attrs:{color:"secondary"},on:{click:function(t){return e.dismiss()}}},[e._v("Dismiss")]),s("CButton",{attrs:{type:"submit",form:"groupForm",color:"primary"}},[e._v(e._s(e.modal_submit_text))])]},proxy:!0}])},[s("CAlert",{attrs:{show:this.error,color:"danger",closeButton:""},on:{"update:show":function(t){return e.$set(this,"error",t)}}},[e._v(" "+e._s(e.error_message)+" ")]),s("CForm",{attrs:{id:"groupForm"},on:{submit:function(t){return t.preventDefault(),e.modal_action()}}},[s("CInput",{attrs:{label:"Name",placeholder:"Enter a name for the group",required:""},model:{value:e.group.name,callback:function(t){e.$set(e.group,"name",t)},expression:"group.name"}}),s("CTextarea",{attrs:{label:"Description",rows:"5",placeholder:"Enter a description for the group",required:""},model:{value:e.group.description,callback:function(t){e.$set(e.group,"description",t)},expression:"group.description"}}),s("multiselect",{attrs:{options:["a","b","c"],multiple:"","close-on-select":!1,optionHeight:200},model:{value:e.group.members,callback:function(t){e.$set(e.group,"members",t)},expression:"group.members"}})],1)],1),s("CModal",{attrs:{title:"Delete Group",color:"danger",centered:!0,show:e.delete_modal},on:{"update:show":function(t){e.delete_modal=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("CButton",{attrs:{color:"secondary"},on:{click:function(t){return e.dismiss()}}},[e._v("No")]),s("CButton",{attrs:{type:"submit",form:"deleteGroupForm",color:"danger"}},[e._v("Yes")])]},proxy:!0}])},[s("CForm",{attrs:{id:"deleteGroupForm"},on:{submit:function(t){return t.preventDefault(),e.deleteUser(e.group.uuid)}}},[e._v(" Are you sure you want to delete "),s("b",[e._v(e._s(e.group.name))]),e._v("? Type the group name in the box below to confirm your intent. "),s("CForm",[s("CInput",{attrs:{label:"Group",required:""},model:{value:e.delete_confirm,callback:function(t){e.delete_confirm=t},expression:"delete_confirm"}})],1)],1)],1)],1)}),b=[],C={name:"GrouPlist",props:{items:Array,fields:{type:Array,default:function(){return["name","description","user_count"]}},caption:{type:String,default:"Table"},hover:Boolean,striped:Boolean,bordered:Boolean,small:Boolean,fixed:Boolean,dark:Boolean,alert:!1},created:function(){this.loadData()},data:function(){return{loading:!0,create_modal:!1,delete_modal:!1,delete_confirm:"",modal_action:null,modal_status:!1,modal_submit_text:"",group:{},modal_title:"",error:!1,error_message:""}},methods:{createGroupModal:function(){this.modal_status=!0,this.modal_submit_text="Create",this.modal_title="Create Group",this.modal_action=this.createGroup},createGroup:function(){console.log("CREATE GROUP")},loadData:function(){var e=this;this.loading=!0,this.$store.dispatch("getGroups").then((function(t){e.groups=t.data,e.loading=!1}))}}},k=C,w=Object(c["a"])(k,v,b,!1,null,null,null),y=w.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("CCardBody",[s("CForm",{attrs:{id:"settings-form"}},[s("CRow",[s("CCol",{attrs:{col:"6"}},[s("h4",[e._v("Basic Settings")]),s("CInput",{attrs:{label:"Base URL",disabled:!e.current_user.permissions["set_baseurl"]},model:{value:e.settings.base_url,callback:function(t){e.$set(e.settings,"base_url",t)},expression:"settings.base_url"}}),s("CInput",{attrs:{label:"Max Logon Attempts"},model:{value:e.settings.logon_password_attempts,callback:function(t){e.$set(e.settings,"logon_password_attempts",t)},expression:"settings.logon_password_attempts"}}),s("h4",[e._v("Playbook Settings")]),s("CRow",[s("CCol",{attrs:{col:"6"}},[s("CInput",{attrs:{label:"Playbook Action Timeout (seconds)"},model:{value:e.settings.playbook_action_timeout,callback:function(t){e.$set(e.settings,"playbook_action_timeout",t)},expression:"settings.playbook_action_timeout"}})],1),s("CCol",{attrs:{col:"6"}},[s("CInput",{attrs:{label:"Playbook Action Timeout (seconds)"},model:{value:e.settings.playbook_timeout,callback:function(t){e.$set(e.settings,"playbook_timeout",t)},expression:"settings.playbook_timeout"}})],1)],1),s("h4",[e._v("Case/Event Settings")]),s("CRow",[s("CCol",{attrs:{col:"6"}},[s("label",[e._v("Require Case Templates")]),s("br"),s("CSwitch",{attrs:{color:"success","label-on":"Yes","label-off":"No",checked:e.settings.require_case_templates},on:{"update:checked":function(t){return e.$set(e.settings,"require_case_templates",t)}}}),s("br"),s("br"),s("label",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:{content:"This will require users add additional details when closing a case.",placement:"right"},expression:"{\n              content: 'This will require users add additional details when closing a case.',\n              placement: 'right'}"}]},[e._v("Require Case Closure Details")]),s("br"),s("CSwitch",{attrs:{color:"success","label-on":"Yes","label-off":"No",checked:e.settings.require_case_close_comment},on:{"update:checked":function(t){return e.$set(e.settings,"require_case_close_comment",t)}}}),s("br"),s("br"),s("label",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:{content:"This will require users add additional details when dismissing an event.",placement:"right"},expression:"{\n              content: 'This will require users add additional details when dismissing an event.',\n              placement: 'right'}"}]},[e._v("Require Event Dismiss Comment")]),s("br"),s("CSwitch",{attrs:{color:"success","label-on":"Yes","label-off":"No",checked:e.settings.require_event_dismiss_comment},on:{"update:checked":function(t){return e.$set(e.settings,"require_event_dismiss_comment",t)}}}),s("br"),s("br"),s("CInput",{attrs:{description:"Setting this too high may result in performance issues",label:"Event queue refresh interval (seconds)",placeholder:"60"},model:{value:e.settings.events_page_refresh,callback:function(t){e.$set(e.settings,"events_page_refresh",t)},expression:"settings.events_page_refresh"}})],1),s("CCol",{attrs:{col:"6"}},[s("label",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:{content:"This will automatically assign a case to it's creator if they don't pick an owner.",placement:"right"},expression:"{\n              content: 'This will automatically assign a case to it\\'s creator if they don\\'t pick an owner.',\n              placement: 'right'}"}]},[e._v("Auto-Assign Case to Creator")]),s("br"),s("CSwitch",{attrs:{color:"success","label-on":"Yes","label-off":"No",checked:e.settings.assign_case_on_create},on:{"update:checked":function(t){return e.$set(e.settings,"assign_case_on_create",t)}}}),s("br"),s("br"),s("label",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:{content:"This will automatically assign a task to the user starting the task if one isn't assigned already.",placement:"right"},expression:"{\n              content: 'This will automatically assign a task to the user starting the task if one isn\\'t assigned already.',\n              placement: 'right'}"}]},[e._v("Auto-Assign Task to Starter")]),s("br"),s("CSwitch",{attrs:{color:"success","label-on":"Yes","label-off":"No",checked:e.settings.assign_task_on_start},on:{"update:checked":function(t){return e.$set(e.settings,"assign_task_on_start",t)}}}),s("br"),s("br"),s("label",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:{content:"This will allow users to edit their comments, no history is maintained.",placement:"right"},expression:"{\n              content: 'This will allow users to edit their comments, no history is maintained.',\n              placement: 'right'}"}]},[e._v("Allow Comment Editing")]),s("br"),s("CSwitch",{attrs:{color:"success","label-on":"Yes","label-off":"No",checked:e.settings.allow_comment_editing},on:{"update:checked":function(t){return e.$set(e.settings,"allow_comment_editing",t)}}}),s("br"),s("br"),s("label",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip",value:{content:"This will allow users to delete their commends",placement:"right"},expression:"{\n              content: 'This will allow users to delete their commends',\n              placement: 'right'}"}]},[e._v("Allow Comment Deletion")]),s("br"),s("CSwitch",{attrs:{color:"success","label-on":"Yes","label-off":"No",checked:e.settings.allow_comment_deletion},on:{"update:checked":function(t){return e.$set(e.settings,"allow_comment_deletion",t)}}}),s("br"),s("br")],1)],1)],1),s("CCol",{attrs:{col:"6"}},[s("h4",[e._v("Mail Settings")]),s("CInput",{attrs:{label:"Email From",placeholder:"admin@reflexsoar.com"},model:{value:e.settings.email_from,callback:function(t){e.$set(e.settings,"email_from",t)},expression:"settings.email_from"}}),s("CInput",{attrs:{label:"Email Server",placeholder:"127.0.0.1:25"},model:{value:e.settings.email_server,callback:function(t){e.$set(e.settings,"email_server",t)},expression:"settings.email_server"}}),s("CSelect",{attrs:{value:e.settings.email_secret_uuid,options:e.credential_list,label:"Email Credentials",placeholder:"Select a credential"},on:{"update:value":function(t){return e.$set(e.settings,"email_secret_uuid",t)}}}),s("h4",[e._v("API Settings")]),s("CInput",{attrs:{description:"Changing this setting will only impact new API keys",label:"API Key Valid Period (days)",placeholder:"366"},model:{value:e.settings.api_key_valid_days,callback:function(t){e.$set(e.settings,"api_key_valid_days",t)},expression:"settings.api_key_valid_days"}}),s("h4",[e._v("Agent Settings")]),s("CInput",{attrs:{label:"Agent Pairing Token Validity (minutes)",placeholder:"15"},model:{value:e.settings.agent_pairing_token_valid_minutes,callback:function(t){e.$set(e.settings,"agent_pairing_token_valid_minutes",t)},expression:"settings.agent_pairing_token_valid_minutes"}}),s("CButton",{attrs:{color:"danger"},on:{click:function(t){return e.persistentTokenModal()}}},[e._v("Generate Peristent Pairing Token")])],1)],1),s("CRow",[s("CCol",{staticClass:"text-right",attrs:{col:"12"}},[s("CButton",{attrs:{color:"primary"},on:{click:function(t){return e.updateSettings()}}},[e._v("Save")])],1)],1)],1),s("CModal",{attrs:{title:"Persistent Pairing Token",color:"danger",centered:!0,size:"lg",show:e.generate_modal},on:{"update:show":function(t){e.generate_modal=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[e.confirm_generate?e._e():s("CButton",{attrs:{color:"secondary"},on:{click:function(t){return e.dismiss()}}},[e._v("No")]),e.confirm_generate?e._e():s("CButton",{attrs:{color:"danger"},on:{click:function(t){return e.generateToken()}}},[e._v("Yes")]),e.confirm_generate?s("CButton",{attrs:{color:"success"},on:{click:function(t){return e.dismiss()}}},[e._v("Finish")]):e._e()]},proxy:!0}])},[s("CForm",{attrs:{id:"confirmPairingConfirm"},on:{submit:function(t){return t.preventDefault(),e.deleteUser(e.user.uuid)}}},[s("p",[e._v("Are you sure you want to generate a persistent pairing token?")]),s("p",[e._v("Persistent pairing tokens never expire, at which point they can be used to register new agents and agents have significant permissions.")]),s("p",[s("b",[e._v("WARNING")]),e._v(": If you already have a persistent pairing token, generating a new one will invalidate the old one.")]),s("p",[e.confirm_generate?s("center",[s("b",[e._v("Pairing Token")]),s("br"),e._v(e._s(e.persistent_pairing_token))]):e._e()],1)])],1)],1)},S=[],$=(s("4a7a"),{name:"GlobalSettings",data:function(){return{persistent_pairing_token:"",confirm_generate:!1,generate_modal:!1}},created:function(){this.loadData()},computed:Object(i["b"])(["current_user","settings","credential_list"]),methods:{persistentTokenModal:function(){this.generate_modal=!0},generateToken:function(){var e=this;this.$store.dispatch("getPersistentPairingToken").then((function(t){e.persistent_pairing_token=t.data.token,e.confirm_generate=!0}))},loadData:function(){this.$store.dispatch("getSettings"),this.$store.dispatch("getCredentialList")},dismiss:function(){this.generate_modal=!1,this.persistent_pairing_token="",this.confirm_generate=!1},updateSettings:function(){var e=this.settings;this.settings.agent_pairing_token_valid_minutes>365?this.$store.commit("show_alert",{message:"Pairing tokens can not exceed 1 year in validity.",type:"danger"}):(this.$store.commit("clear_alert"),this.$store.dispatch("updateSettings",e))}}}),B=$,U=(s("5d62"),Object(c["a"])(B,x,S,!1,null,"cdd63c64",null)),T=U.exports,q={name:"Settings",computed:Object(i["b"])(["current_user","alert"]),components:{UsersList:m,GlobalSettings:T,GroupList:y},created:function(){},data:function(){return{tabs:["Global","Users","Groups","Roles","Integrations"],activeTab:1}}},I=q,A=Object(c["a"])(I,r,o,!1,null,null,null);t["default"]=A.exports},"3b81":function(e,t,s){},4569:function(e,t,s){"use strict";var r=s("3b81"),o=s.n(r);o.a},"5af3":function(e,t,s){},"5d62":function(e,t,s){"use strict";var r=s("5af3"),o=s.n(r);o.a}}]);
//# sourceMappingURL=chunk-69d6b25e.ea136826.js.map