{"version":3,"sources":["webpack:///./src/views/CaseList.vue?0e73","webpack:///src/views/CaseList.vue","webpack:///./src/views/CaseList.vue?da01","webpack:///./src/views/CaseList.vue","webpack:///./src/views/CaseList.vue?167f","webpack:///./src/views/CreateCaseModal.vue?2d1e","webpack:///src/views/CreateCaseModal.vue","webpack:///./src/views/CreateCaseModal.vue?198f","webpack:///./src/views/CreateCaseModal.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","_l","filter","key","value","dataType","staticClass","on","$event","toggleCaseFilter","name","_v","_s","filter_type","getSeverityText","toLowerCase","caseFilters","length","_e","filtered_cases","quick_filters","newCaseModal","hover","striped","bordered","small","fixed","fields","dark","external","resetable","scopedSlots","_u","fn","ref","item","title","tag","status","event_count","tlp","getSeverityColor","severity","owner","username","closed","toggleCloseCase","uuid","runPlaybookModal","showDeleteCaseModal","close_case_modal","dismiss","proxy","error","error_message","preventDefault","closeCase","close_reasons","closure_reason_uuid","close_comment","settings","require_case_close_comment","deleteCaseModal","deleteCase","staticRenderFns","items","Array","caption","type","String","default","Boolean","alert","component","modalStatus","createCase","events","model","callback","$$v","expression","use_case_template","require_case_templates","case_templates","caseTemplateFind","props","option","description","task_count","case_template","users","usersFind","tlps","severities","tag_list","addTag","selected_tags"],"mappings":"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","file":"js/chunk-773f87ec.b23fe767.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CRow',[(_vm.loading)?_c('CCol',{attrs:{\"col\":\"\"}},[_c('div',{staticStyle:{\"margin\":\"auto\",\"text-align\":\"center\",\"verticle-align\":\"middle\"}},[_c('CSpinner',{staticStyle:{\"width\":\"6rem\",\"height\":\"6rem\"},attrs:{\"color\":\"dark\"}})],1)]):_c('CCol',{attrs:{\"col\":\"\"}},[_c('CRow',[_c('CCol',{attrs:{\"col\":\"12\"}},[_c('CCardHeader',[_c('CRow',[_c('CCol',{attrs:{\"col\":\"10\"}},[_vm._l((_vm.caseFilters),function(filter){return _c('li',{key:filter.value+filter.dataType,staticStyle:{\"display\":\"inline\",\"margin-right\":\"2px\"}},[_c('CButton',{staticClass:\"tag\",attrs:{\"color\":\"secondary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.toggleCaseFilter({'dataType': filter.dataType.name, 'value': filter.value})}}},[_c('b',[_vm._v(_vm._s(filter.dataType))]),_vm._v(\": \"),(filter.filter_type == 'severity')?_c('span',[_vm._v(_vm._s(_vm.getSeverityText(filter.value).toLowerCase()))]):_c('span',[_vm._v(_vm._s(filter.value))])])],1)}),(_vm.caseFilters.length > 0)?_c('span',{staticClass:\"separator\"},[_vm._v(\"|\")]):_vm._e(),_vm._v(\"Showing \"+_vm._s(_vm.filtered_cases.length)+\" cases. \")],2),_c('CCol',{staticClass:\"text-right\",attrs:{\"col\":\"2\"}},[_c('CButton',{attrs:{\"color\":\"info\",\"size\":\"sm\"},on:{\"click\":function($event){_vm.quick_filters = !_vm.quick_filters}}},[_vm._v(\"Quick Filters\")])],1)],1)],1),_c('CCollapse',{attrs:{\"show\":_vm.quick_filters}},[_c('CNav',{attrs:{\"variant\":\"tabs\",\"justified\":true}},[_c('CNavItem',[_c('div',{on:{\"click\":function($event){return _vm.toggleCaseFilter({'filter_type': 'status', 'dataType':'status','value':'New'})}}},[_vm._v(\" New \")])]),_c('CNavItem',[_c('div',{on:{\"click\":function($event){return _vm.toggleCaseFilter({'filter_type': 'status', 'dataType':'status','value':'In Progress'})}}},[_vm._v(\" In Progress \")])]),_c('CNavItem',[_c('div',{on:{\"click\":function($event){return _vm.toggleCaseFilter({'filter_type': 'status', 'dataType':'status','value':'Closed'})}}},[_vm._v(\" Closed \")])]),_c('CNavItem',[_c('div',{on:{\"click\":function($event){return _vm.toggleCaseFilter({'filter_type': 'cases', 'dataType':'cases','value':'My Cases'})}}},[_vm._v(\" My Cases \")])]),_c('CNavItem',[_c('div',{on:{\"click\":function($event){return _vm.toggleCaseFilter({'filter_type': 'tasks', 'dataType':'tasks','value':'Cases I have Tasks'})}}},[_vm._v(\" My Tasks \")])]),_c('CNavItem',[_c('div',{on:{\"click\":function($event){return _vm.toggleCaseFilter({'filter_type': 'severity', 'dataType':'severity','value':4})}}},[_vm._v(\" Critical \")])]),_c('CNavItem',[_c('div',{on:{\"click\":function($event){return _vm.toggleCaseFilter({'filter_type': 'severity', 'dataType':'severity','value':3})}}},[_vm._v(\" High \")])]),_c('CNavItem',[_c('div',{on:{\"click\":function($event){return _vm.toggleCaseFilter({'filter_type': 'severity', 'dataType':'severity','value':2})}}},[_vm._v(\" Medium \")])]),_c('CNavItem',[_c('div',{on:{\"click\":function($event){return _vm.toggleCaseFilter({'filter_type': 'severity', 'dataType':'severity','value':1})}}},[_vm._v(\" Low \")])])],1)],1)],1)],1),_c('CRow',{staticStyle:{\"padding\":\"10px\"}},[_c('CCol',{attrs:{\"col\":\"10\"}},[_c('CButton',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.newCaseModal = !_vm.newCaseModal}}},[_vm._v(\"New Case\")])],1),_c('CCol',{staticClass:\"text-right\",attrs:{\"col\":\"2\"}})],1),_c('CDataTable',{staticStyle:{\"border-top\":\"1px solid #cfcfcf\"},attrs:{\"hover\":_vm.hover,\"striped\":_vm.striped,\"bordered\":_vm.bordered,\"small\":_vm.small,\"fixed\":_vm.fixed,\"items\":_vm.filtered_cases,\"fields\":_vm.fields,\"items-per-page\":_vm.small ? 25 : 10,\"dark\":_vm.dark,\"sorter\":{external: true, resetable: true},\"pagination\":\"\",\"responsive\":false},scopedSlots:_vm._u([{key:\"title\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('td',[_c('router-link',{attrs:{\"to\":(\"\" + (item.uuid))}},[_vm._v(_vm._s(item.title))]),_c('br'),_vm._l((item.tags),function(tag){return _c('li',{key:tag.name,staticStyle:{\"display\":\"inline\",\"margin-right\":\"2px\"}},[_c('CBadge',{staticStyle:{\"padding\":\"5px\",\"margin-top\":\"10px\",\"margin-right\":\"3px\",\"cursor\":\"pointer\"},attrs:{\"color\":\"info\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.toggleCaseFilter({'filter_type': 'tag', 'dataType':'tag','value':tag.name})}}},[_vm._v(_vm._s(tag.name))])],1)})],2)]}},{key:\"status\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('td',[(item.status)?_c('span',[_vm._v(_vm._s(item.status.name))]):_vm._e()])]}},{key:\"events\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('td',[_vm._v(_vm._s(item.event_count > 0 ? item.event_count : 0))])]}},{key:\"tlp\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('td',[(item.tlp == 1)?_c('CButton',{attrs:{\"color\":\"light\",\"size\":\"sm\"}},[_vm._v(\"TLP:WHITE\")]):_vm._e(),(item.tlp == 2)?_c('CButton',{attrs:{\"color\":\"success\",\"size\":\"sm\"}},[_vm._v(\"TLP:GREEN\")]):_vm._e(),(item.tlp == 3)?_c('CButton',{attrs:{\"color\":\"warning\",\"size\":\"sm\"}},[_vm._v(\"TLP:AMBER\")]):_vm._e(),(item.tlp >= 4)?_c('CButton',{attrs:{\"color\":\"danger\",\"size\":\"sm\"}},[_vm._v(\"TLP:RED\")]):_vm._e()],1)]}},{key:\"severity\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('td',[_c('CButton',{attrs:{\"color\":_vm.getSeverityColor(item.severity),\"size\":\"sm\"},on:{\"click\":function($event){return _vm.toggleCaseFilter({'filter_type': 'severity', 'dataType':'severity','value':item.severity})}}},[_vm._v(_vm._s(_vm.getSeverityText(item.severity)))])],1)]}},{key:\"owner\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('td',[_vm._v(_vm._s((item.owner && item.owner.username) ? item.owner.username : \"Unassigned\"))])]}},{key:\"actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('td',[_c('CDropdown',{attrs:{\"toggler-text\":\"Actions\",\"color\":\"secondary\",\"size\":\"sm\"}},[(!item.closed)?_c('CDropdownItem',{on:{\"click\":function($event){return _vm.toggleCloseCase(item.uuid)}}},[_vm._v(\"Close\")]):_vm._e(),(!item.closed)?_c('CDropdownItem',{on:{\"click\":function($event){_vm.runPlaybookModal = !_vm.runPlaybookModal}}},[_vm._v(\"Execute Playbook\")]):_vm._e(),(!item.closed)?_c('CDropdownDivider'):_vm._e(),_c('CDropdownItem',{on:{\"click\":function($event){return _vm.showDeleteCaseModal(item.uuid)}}},[_vm._v(\"Delete\")])],1)],1)]}}])})],1),_c('CreateCaseModal',{attrs:{\"show\":_vm.newCaseModal},on:{\"update:show\":function($event){_vm.newCaseModal=$event}}}),_c('CModal',{attrs:{\"title\":\"Close Case\",\"centered\":true,\"size\":\"lg\",\"show\":_vm.close_case_modal},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('CButton',{attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.dismiss()}}},[_vm._v(\"Dismiss\")]),_c('CButton',{attrs:{\"type\":\"submit\",\"form\":\"closeCaseForm\",\"color\":\"primary\"}},[_vm._v(\"Close\")])]},proxy:true}])},[_c('CAlert',{attrs:{\"show\":_vm.error,\"color\":\"danger\",\"closeButton\":\"\"},on:{\"update:show\":function($event){_vm.error=$event}}},[_vm._v(\" \"+_vm._s(_vm.error_message)+\" \")]),_c('CForm',{attrs:{\"id\":\"closeCaseForm\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.closeCase($event)}}},[_c('p',[_vm._v(\"You are about to close this case, select a reason for doing so. Providing additional context where necessary is recommended. Note, all open Events attached to this case will also be closed.\")]),_c('CSelect',{attrs:{\"options\":_vm.close_reasons,\"label\":\"Reason\",\"placeholder\":\"Select a reason for closing this case\",\"value\":_vm.closure_reason_uuid,\"required\":\"\"},on:{\"update:value\":function($event){_vm.closure_reason_uuid=$event}}}),_c('CTextarea',{attrs:{\"value\":_vm.close_comment,\"required\":_vm.settings.require_case_close_comment,\"disabled\":_vm.closure_reason_uuid == '',\"label\":\"Additional information\",\"rows\":\"5\",\"placeholder\":\"Enter additional information related to the closure reason.\"},on:{\"change\":function($event){_vm.close_comment = $event}}})],1)],1),_c('CModal',{attrs:{\"title\":\"Delete Case\",\"color\":\"danger\",\"centered\":true,\"size\":\"lg\",\"show\":_vm.deleteCaseModal},on:{\"update:show\":function($event){_vm.deleteCaseModal=$event}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('CButton',{attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){_vm.deleteCaseModal = !_vm.deleteCaseModal}}},[_vm._v(\"Dismiss\")]),_c('CButton',{attrs:{\"color\":\"danger\"},on:{\"click\":function($event){return _vm.deleteCase()}}},[_vm._v(\"Delete\")])]},proxy:true}])},[_c('div',[_c('p',[_vm._v(\"Deleting a case is a permanent action, all work on the event will be removed and any associated events will be set to \"),_c('b',[_vm._v(\"New\")]),_vm._v(\" status, are you sure you want to continue?\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <CRow>\r\n    <CCol col v-if=\"loading\">\r\n        <div style=\"margin: auto; text-align:center; verticle-align:middle;\">\r\n           <CSpinner\r\n                color=\"dark\"\r\n                style=\"width:6rem;height:6rem;\"\r\n            />\r\n        </div>\r\n    </CCol>\r\n    <CCol col v-else>\r\n      <CRow>\r\n        <CCol col=\"12\">\r\n            <CCardHeader>\r\n              <CRow>\r\n                <CCol col=\"10\">\r\n                  <li style=\"display: inline; margin-right: 2px;\" v-for=\"filter in caseFilters\" :key=\"filter.value+filter.dataType\"><CButton color=\"secondary\" class=\"tag\"  size=\"sm\" @click=\"toggleCaseFilter({'dataType': filter.dataType.name, 'value': filter.value})\"><b>{{filter.dataType}}</b>: <span v-if=\"filter.filter_type == 'severity'\">{{getSeverityText(filter.value).toLowerCase()}}</span><span v-else>{{ filter.value }}</span></CButton></li><span v-if=\"caseFilters.length > 0\" class=\"separator\">|</span>Showing {{filtered_cases.length}} cases.\r\n                </CCol>\r\n                <CCol col=\"2\" class=\"text-right\">\r\n                  <CButton @click=\"quick_filters = !quick_filters\" color=\"info\" size=\"sm\">Quick Filters</CButton>\r\n                </CCol>\r\n              </CRow>\r\n            </CCardHeader>\r\n            <CCollapse :show=\"quick_filters\">\r\n              <CNav variant=\"tabs\" :justified=\"true\">\r\n                <CNavItem>\r\n                  <div @click=\"toggleCaseFilter({'filter_type': 'status', 'dataType':'status','value':'New'})\">\r\n                    New\r\n                  </div>\r\n                </CNavItem>\r\n                <CNavItem>\r\n                  <div @click=\"toggleCaseFilter({'filter_type': 'status', 'dataType':'status','value':'In Progress'})\">\r\n                    In Progress\r\n                  </div>\r\n                </CNavItem>\r\n                <CNavItem>\r\n                  <div @click=\"toggleCaseFilter({'filter_type': 'status', 'dataType':'status','value':'Closed'})\">\r\n                    Closed\r\n                  </div>\r\n                </CNavItem>\r\n                <CNavItem>\r\n                  <div @click=\"toggleCaseFilter({'filter_type': 'cases', 'dataType':'cases','value':'My Cases'})\">\r\n                    My Cases\r\n                  </div>\r\n                </CNavItem>\r\n                <CNavItem>\r\n                  <div @click=\"toggleCaseFilter({'filter_type': 'tasks', 'dataType':'tasks','value':'Cases I have Tasks'})\">\r\n                    My Tasks\r\n                  </div>\r\n                </CNavItem>\r\n                <CNavItem>\r\n                  <div @click=\"toggleCaseFilter({'filter_type': 'severity', 'dataType':'severity','value':4})\">\r\n                    Critical\r\n                  </div>\r\n                </CNavItem>\r\n                <CNavItem>\r\n                  <div @click=\"toggleCaseFilter({'filter_type': 'severity', 'dataType':'severity','value':3})\">\r\n                    High\r\n                  </div>\r\n                </CNavItem>\r\n                <CNavItem>\r\n                  <div @click=\"toggleCaseFilter({'filter_type': 'severity', 'dataType':'severity','value':2})\">\r\n                    Medium\r\n                  </div>\r\n                </CNavItem>\r\n                <CNavItem>\r\n                  <div @click=\"toggleCaseFilter({'filter_type': 'severity', 'dataType':'severity','value':1})\">\r\n                    Low\r\n                  </div>\r\n                </CNavItem>\r\n              </CNav>\r\n            </CCollapse>\r\n        </CCol>\r\n      </CRow>\r\n      <CRow style=\"padding:10px\">\r\n        <CCol col=\"10\">\r\n          <CButton color=\"primary\" @click=\"newCaseModal = !newCaseModal\">New Case</CButton>\r\n        </CCol>\r\n        <CCol col=\"2\" class=\"text-right\">\r\n\r\n        </CCol>\r\n      </CRow>\r\n              <CDataTable\r\n                  :hover=\"hover\"\r\n                  :striped=\"striped\"\r\n                  :bordered=\"bordered\"\r\n                  :small=\"small\"\r\n                  :fixed=\"fixed\"\r\n                  :items=\"filtered_cases\"\r\n                  :fields=\"fields\"\r\n                  :items-per-page=\"small ? 25 : 10\"\r\n                  :dark=\"dark\"\r\n                  :sorter='{external: true, resetable: true}'\r\n                  pagination\r\n                  :responsive=\"false\"\r\n                  style=\"border-top: 1px solid #cfcfcf;\"\r\n              >\r\n              <template #title=\"{item}\">\r\n                  <td>\r\n                      <router-link :to=\"`${item.uuid}`\">{{item.title}}</router-link><br>\r\n                      <li style=\"display: inline; margin-right: 2px;\" v-for=\"tag in item.tags\" :key=\"tag.name\">\r\n                        <CBadge color=\"info\" size=\"sm\" style=\"padding: 5px; margin-top:10px; margin-right:3px;cursor: pointer;\" @click=\"toggleCaseFilter({'filter_type': 'tag', 'dataType':'tag','value':tag.name})\">{{ tag.name }}</CBadge>\r\n                      </li>\r\n                  </td>\r\n              </template>\r\n              <template #status=\"{item}\">\r\n                <td>\r\n                  <span v-if=\"item.status\">{{item.status.name}}</span>\r\n                </td>\r\n              </template>\r\n              <template #events=\"{item}\">\r\n                <td>{{item.event_count > 0 ? item.event_count : 0}}</td>\r\n              </template>\r\n              <template #tlp=\"{item}\">\r\n                <td>\r\n                  <CButton v-if=\"item.tlp == 1\" color=\"light\" size=\"sm\">TLP:WHITE</CButton>\r\n                  <CButton v-if=\"item.tlp == 2\" color=\"success\" size=\"sm\">TLP:GREEN</CButton>\r\n                  <CButton v-if=\"item.tlp == 3\" color=\"warning\" size=\"sm\">TLP:AMBER</CButton>\r\n                  <CButton v-if=\"item.tlp >= 4\" color=\"danger\" size=\"sm\">TLP:RED</CButton>\r\n                </td>\r\n              </template>\r\n              <template #severity=\"{item}\">\r\n                <td>\r\n                  <CButton :color=\"getSeverityColor(item.severity)\" size=\"sm\" @click=\"toggleCaseFilter({'filter_type': 'severity', 'dataType':'severity','value':item.severity})\">{{getSeverityText(item.severity)}}</CButton>\r\n                </td>\r\n              </template>\r\n              <template #owner=\"{item}\">\r\n                <td>{{(item.owner && item.owner.username) ? item.owner.username : \"Unassigned\"}}</td>\r\n\r\n              </template>\r\n              <template #actions='{item}'>\r\n                <td>\r\n                  <CDropdown toggler-text=\"Actions\" color=\"secondary\" size=\"sm\">\r\n                    <CDropdownItem v-if=\"!item.closed\" @click=\"toggleCloseCase(item.uuid)\">Close</CDropdownItem>\r\n                    <CDropdownItem v-if=\"!item.closed\" @click=\"runPlaybookModal = !runPlaybookModal\">Execute Playbook</CDropdownItem>\r\n                    <CDropdownDivider v-if=\"!item.closed\" />\r\n                    <CDropdownItem @click=\"showDeleteCaseModal(item.uuid)\">Delete</CDropdownItem>\r\n                  </CDropdown>\r\n                </td>\r\n              </template>\r\n              </CDataTable>\r\n    </CCol>\r\n    <CreateCaseModal :show.sync='newCaseModal'></CreateCaseModal>\r\n    <CModal title=\"Close Case\" :centered=\"true\" size=\"lg\" :show=\"close_case_modal\">\r\n      <CAlert :show.sync=\"error\" color=\"danger\" closeButton>\r\n        {{error_message}}\r\n      </CAlert>\r\n      <CForm id=\"closeCaseForm\" @submit.prevent=\"closeCase\" >\r\n          <p>You are about to close this case, select a reason for doing so.  Providing additional context where necessary is recommended.  Note, all open Events attached to this case will also be closed.</p>\r\n          <CSelect :options=\"close_reasons\" label=\"Reason\" placeholder=\"Select a reason for closing this case\" :value.sync=\"closure_reason_uuid\" required></CSelect>\r\n          <CTextarea :value=\"close_comment\" @change=\"close_comment = $event\" v-bind:required=\"settings.require_case_close_comment\" v-bind:disabled=\"closure_reason_uuid == ''\" label=\"Additional information\" rows=\"5\" placeholder=\"Enter additional information related to the closure reason.\"></CTextarea>\r\n      </CForm>\r\n      <template #footer>\r\n        <CButton @click=\"dismiss()\" color=\"secondary\">Dismiss</CButton>\r\n        <CButton type=\"submit\" form=\"closeCaseForm\" color=\"primary\">Close</CButton>\r\n      </template>\r\n    </CModal>\r\n    <CModal title=\"Delete Case\" color=\"danger\" :centered=\"true\" size=\"lg\" :show.sync=\"deleteCaseModal\">\r\n        <div>\r\n            <p>Deleting a case is a permanent action, all work on the event will be removed and any associated events will be set to <b>New</b> status, are you sure you want to continue?</p>\r\n        </div>\r\n        <template #footer>\r\n            <CButton @click=\"deleteCaseModal = !deleteCaseModal\" color=\"secondary\">Dismiss</CButton>\r\n            <CButton @click=\"deleteCase()\" color=\"danger\">Delete</CButton>\r\n        </template>\r\n    </CModal>\r\n  </CRow>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n.separator {\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n}\r\n\r\n</style>\r\n\r\n<script>\r\nimport {mapState} from \"vuex\";\r\nimport CreateCaseModal from './CreateCaseModal'\r\nexport default {\r\n    name: 'Cases',\r\n    components: {\r\n      CreateCaseModal\r\n    },\r\n    props: {\r\n    items: Array,\r\n    caption: {\r\n      type: String,\r\n      default: 'Table'\r\n    },\r\n    hover: Boolean,\r\n    striped: Boolean,\r\n    bordered: Boolean,\r\n    small: Boolean,\r\n    fixed: Boolean,\r\n    dark: Boolean,\r\n    alert: false\r\n    },\r\n    computed: mapState(['settings']),\r\n    created: function () {\r\n        this.filterCases()\r\n        this.loadClosureReasons()\r\n        this.refresh = setInterval(function() {\r\n          this.filterCases()\r\n        }.bind(this), 60000)\r\n    },\r\n    data(){\r\n      return {\r\n        name: \"\",\r\n        description: \"\",\r\n        dismissCountDown: 10,\r\n        loading: true,\r\n        newCaseModal: false,\r\n        deleteCaseModal: false,\r\n        target_case: \"\",\r\n        fields: ['title','status','events','tlp','severity','owner','actions'],\r\n        available_fields: ['title','status','events','tlp','severity','owner','actions','created_at','modified_at'],\r\n        quick_filters: false,\r\n        caseFilters: [{'filter_type':'status','dataType':'status','value':'New'}],\r\n        filtered_cases: [],\r\n        page_data: {},\r\n        close_reasons: [],\r\n        case_closed: false,\r\n        status_uuid: \"\",\r\n        target_case_uuid: \"\",\r\n        close_comment: \"\",\r\n        error: false,\r\n        error_message: \"\",\r\n        closure_reason_uuid: \"\",\r\n        close_case_modal: false\r\n      }\r\n    },\r\n    methods: {\r\n      dismiss() {\r\n        this.closure_reason_uuid = undefined\r\n        this.error = false\r\n        this.error_message = \"\"\r\n        this.status_uuid = undefined\r\n        this.target_case = \"\"\r\n        this.close_comment = \"\"\r\n        this.close_case_modal = false\r\n      },\r\n      closeCase(){\r\n          // Leave the closure comment\r\n          let data = {\r\n              message: this.close_comment,\r\n              case_uuid: this.target_case,\r\n              is_closure_comment: true,\r\n              closure_reason_uuid: this.closure_reason_uuid\r\n          }\r\n          this.$store.dispatch('createCaseComment', data)\r\n\r\n          // Call the update case API endpoint\r\n          let status = {\"status_uuid\": this.status_uuid, \"close_reason_uuid\": this.closure_reason_uuid}\r\n          let uuid = this.target_case\r\n          this.$store.dispatch('updateCase', {uuid, data: status}).then(resp => {\r\n              this.filterCases()\r\n          })\r\n          this.dismiss()\r\n      },\r\n      toggleCloseCase(uuid) {\r\n        this.target_case = uuid\r\n        this.loadClosureReasons()\r\n        this.loadCaseStatuses()\r\n        this.close_case_modal = !this.close_case_modal        \r\n      },\r\n      loadClosureReasons() {\r\n          // Call the closure reasons API endpoint\r\n          this.$store.dispatch('getCloseReasons').then(resp => {\r\n              this.close_reasons = resp.data.map((reason) => { return {'label': reason.title, 'value': reason.uuid }})\r\n          })            \r\n      },\r\n      addSuccess: function() {\r\n        if (this.$store.getters.addSuccess == 'success') {\r\n          return true\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      showDeleteCaseModal(uuid) {\r\n        this.target_case = uuid\r\n        this.deleteCaseModal = !this.deleteCaseModal\r\n      },\r\n      loadCaseStatuses() {\r\n        this.$store.dispatch('getCaseStatus').then(resp => {\r\n          this.status_uuid = resp.data.find(s => s.name === 'Closed').uuid\r\n        })\r\n      },\r\n      deleteCase() {\r\n          let uuid = this.target_case\r\n          this.$store.dispatch('deleteCase', uuid).then(resp => {\r\n              this.filtered_cases = this.$store.getters.cases\r\n              this.target_case = \"\"\r\n              this.deleteCaseModal = !this.deleteCaseModal\r\n          })\r\n      },\r\n      getSeverityColor(severity) {\r\n          switch(severity) {\r\n          case 1: return 'dark';\r\n          case 2: return 'info';\r\n          case 3: return 'warning';\r\n          case 4: return 'danger';\r\n          default: return 'dark';\r\n          }\r\n      },\r\n      getSeverityText(severity) {\r\n          switch(severity) {\r\n          case 1: return 'Low';\r\n          case 2: return 'Medium';\r\n          case 3: return 'High';\r\n          case 4: return 'Critical';\r\n          default: return 'Low';\r\n          }\r\n      },\r\n      filterCases: function () {\r\n\r\n        // Build the filters based on what is currently selected\r\n        this.$store.commit('add_start')\r\n        let status_filters = []\r\n        let tag_filters = []\r\n        let severity_filter = []\r\n        let search = []\r\n        let owner = []\r\n        let my_cases = false\r\n        let my_tasks = false\r\n        for(let f in this.caseFilters) {\r\n          let filter = this.caseFilters[f]\r\n\r\n          if(filter.filter_type == 'status') {\r\n            status_filters.push(filter.value)\r\n          }\r\n\r\n          if(filter.filter_type == 'tag') {\r\n            tag_filters.push(filter.value)\r\n          }\r\n\r\n          if(filter.filter_type == 'search') {\r\n            search = filter.value\r\n          }\r\n\r\n          if(filter.filter_type == 'severity') {\r\n            severity_filter.push(filter.value)\r\n          }\r\n\r\n          if(filter.filter_type == 'owner') {\r\n            owner.push(filter.value)\r\n          }\r\n\r\n          if(filter.filter_type == 'tasks') {\r\n            my_tasks = true\r\n          }\r\n\r\n          if(filter.filter_type == 'cases') {\r\n            my_cases = true\r\n          }\r\n        }\r\n\r\n        this.$store.dispatch('getCases', {\r\n          tag: tag_filters,\r\n          status: status_filters,\r\n          severity: severity_filter,\r\n          search: search,\r\n          owner: owner,\r\n          fields: ['title','status','tlp','severity','owner','uuid','id','event_count'],\r\n          my_cases: my_cases,\r\n          my_tasks: my_tasks,\r\n          page: this.current_page,\r\n          page_size: this.card_per_page\r\n        }).then(resp => {\r\n          this.filtered_cases = this.$store.getters.cases\r\n          this.page_data = resp.data.pagination\r\n          this.$store.commit('add_success')\r\n          this.loading = false\r\n        })\r\n      },\r\n      toggleCaseFilter(filter) {\r\n        let exists = this.caseFilters.some((item) => {\r\n          return item.value == filter.value\r\n        })\r\n\r\n        // Can only have one status filter at a time\r\n        if(filter.filter_type == 'status') {\r\n          this.caseFilters = this.caseFilters.filter(item => item.filter_type !== filter.filter_type)\r\n        }\r\n\r\n        // Can't filter by my cases and my tasks at the same time\r\n        if(filter.filter_type == 'cases') {\r\n          this.caseFilters = this.caseFilters.filter(item => item.filter_type != 'tasks')\r\n        }\r\n\r\n        // Can't filter by my cases and my tasks at the same time\r\n        if(filter.filter_type == 'tasks') {\r\n          this.caseFilters = this.caseFilters.filter(item => item.filter_type != 'cases')\r\n        }\r\n\r\n        if(!exists) {\r\n          this.caseFilters.push(filter)\r\n        } else {\r\n          this.caseFilters = this.caseFilters.filter(item => item.value !== filter.value)\r\n        }\r\n        this.filterCases()\r\n      }\r\n    },\r\n    beforeDestroy: function() {\r\n      clearInterval(this.refresh)\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CaseList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CaseList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CaseList.vue?vue&type=template&id=b999201c&scoped=true&\"\nimport script from \"./CaseList.vue?vue&type=script&lang=js&\"\nexport * from \"./CaseList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CaseList.vue?vue&type=style&index=0&id=b999201c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b999201c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CaseList.vue?vue&type=style&index=0&id=b999201c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CaseList.vue?vue&type=style&index=0&id=b999201c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('link',{attrs:{\"rel\":\"stylesheet\",\"href\":\"https://unpkg.com/vue-multiselect@2.1.0/dist/vue-multiselect.min.css\"}}),_c('CModal',{attrs:{\"title\":\"Create Case\",\"centered\":true,\"size\":\"lg\",\"show\":_vm.modalStatus},on:{\"update:show\":function($event){_vm.modalStatus=$event}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('CButton',{attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.dismiss()}}},[_vm._v(\"Dismiss\")]),_c('CButton',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.createCase()}}},[_vm._v(\"Create\")])]},proxy:true}])},[_c('div',[(_vm.events && _vm.events.length > 1)?_c('p',[_vm._v(\"This case will be associated with \"),_c('b',[_vm._v(_vm._s(_vm.events.length))]),_vm._v(\" events.\")]):_vm._e(),_c('CForm',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createCase($event)}}},[_c('CInput',{attrs:{\"placeholder\":\"Case Title\",\"required\":\"\",\"label\":\"Case Title\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_c('label',{staticStyle:{\"text-align\":\"center\",\"vertical-align\":\"middle\",\"padding-bottom\":\".8em\"}},[_vm._v(\"Assign Case Template?\")]),_vm._v(\" \"),_c('CSwitch',{attrs:{\"color\":\"success\",\"label-on\":\"Yes\",\"label-off\":\"No\",\"checked\":_vm.use_case_template,\"disabled\":_vm.settings.require_case_templates},on:{\"update:checked\":function($event){_vm.use_case_template=$event}}}),(_vm.use_case_template)?_c('div',{staticClass:\"form-group\",attrs:{\"role\":\"group\"}},[_c('multiselect',{attrs:{\"label\":\"title\",\"options\":_vm.case_templates,\"track-by\":\"uuid\",\"searchable\":true,\"internal-search\":false,\"options-limit\":10,\"show-no-results\":false},on:{\"search-change\":_vm.caseTemplateFind},scopedSlots:_vm._u([{key:\"option\",fn:function(props){return [_vm._v(\" \"+_vm._s(props.option.title)),_c('br'),_c('small',[_vm._v(_vm._s(props.option.description)),_c('br'),_vm._v(\"Contains \"+_vm._s(props.option.task_count)+\" tasks.\")])]}}],null,false,965155483),model:{value:(_vm.case_template),callback:function ($$v) {_vm.case_template=$$v},expression:\"case_template\"}})],1):_vm._e(),(_vm.case_template && _vm.case_template.task_count > 0)?_c('span',[_c('label',[_vm._v(\"Tasks\")]),_c('br'),_c('b',[_vm._v(_vm._s(_vm.case_template.task_count))]),_vm._v(\" tasks will be added automatically to this case.\"),_c('br'),_c('br')]):_vm._e(),_c('label',[_vm._v(\"Case Owner\")]),_c('multiselect',{attrs:{\"label\":\"username\",\"options\":_vm.users,\"track-by\":\"username\",\"searchable\":true,\"internal-search\":false,\"options-limit\":25,\"show-no-results\":false},on:{\"search-change\":_vm.usersFind},model:{value:(_vm.owner),callback:function ($$v) {_vm.owner=$$v},expression:\"owner\"}}),_c('br'),_c('CTextarea',{attrs:{\"placeholder\":\"Enter a description for the case.  The more detail the better.\",\"required\":\"\",\"label\":\"Description\",\"rows\":\"5\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}}),_c('CRow',[_c('CCol',{attrs:{\"col\":\"12\",\"lg\":\"6\"}},[_c('CSelect',{attrs:{\"label\":\"TLP\",\"options\":_vm.tlps,\"value\":_vm.tlp,\"placeholder\":\"Select a TLP\"},on:{\"update:value\":function($event){_vm.tlp=$event}}})],1),_c('CCol',{attrs:{\"col\":\"12\",\"lg\":\"6\"}},[_c('CSelect',{attrs:{\"label\":\"Severity\",\"options\":_vm.severities,\"value\":_vm.severity,\"placeholder\":\"Select a Severity\"},on:{\"update:value\":function($event){_vm.severity=$event}}})],1)],1),_c('div',{staticClass:\"form-group\",attrs:{\"role\":\"group\"}},[_c('label',{staticClass:\"typo__label\"},[_vm._v(\"Tags\")]),_c('multiselect',{attrs:{\"placeholder\":\"Select tags to apply to this input\",\"taggable\":true,\"tag-placeholder\":\"Add new tag\",\"track-by\":\"name\",\"label\":\"name\",\"options\":_vm.tag_list,\"multiple\":true,\"close-on-select\":false},on:{\"tag\":_vm.addTag},model:{value:(_vm.selected_tags),callback:function ($$v) {_vm.selected_tags=$$v},expression:\"selected_tags\"}})],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div><link rel=\"stylesheet\" href=\"https://unpkg.com/vue-multiselect@2.1.0/dist/vue-multiselect.min.css\">\r\n    <CModal title=\"Create Case\" :centered=\"true\" size=\"lg\" :show.sync=\"modalStatus\">\r\n      <div>\r\n        <p v-if=\"events && events.length > 1\">This case will be associated with <b>{{events.length}}</b> events.</p>\r\n        <CForm @submit.prevent=\"createCase\" >\r\n            <CInput\r\n              placeholder=\"Case Title\"\r\n              required\r\n              v-model=\"title\"\r\n              label=\"Case Title\"\r\n            >\r\n            </CInput>\r\n            <label style=\"text-align:center; vertical-align:middle; padding-bottom:.8em\">Assign Case Template?</label>&nbsp;&nbsp;&nbsp;<CSwitch color=\"success\" label-on=\"Yes\" label-off=\"No\" v-bind:checked.sync=\"use_case_template\" v-bind:disabled=\"settings.require_case_templates\"/>\r\n            <div role=\"group\" class=\"form-group\" v-if=\"use_case_template\">\r\n                <multiselect \r\n                    v-model=\"case_template\" \r\n                    label=\"title\" \r\n                    :options=\"case_templates\" \r\n                    track-by=\"uuid\" \r\n                    :searchable=\"true\"\r\n                    :internal-search=\"false\"\r\n                    :options-limit=\"10\"\r\n                    :show-no-results=\"false\" \r\n                    @search-change=\"caseTemplateFind\">\r\n                    <template slot=\"option\" slot-scope=\"props\">\r\n                        {{props.option.title}}</br>\r\n                        <small>{{props.option.description}}<br>Contains {{props.option.task_count}} tasks.</small>\r\n                    </template>\r\n                </multiselect>\r\n            </div>\r\n            <span v-if=\"case_template && case_template.task_count > 0\"><label>Tasks</label><br><b>{{case_template.task_count}}</b> tasks will be added automatically to this case.<br><br></span>\r\n            <label>Case Owner</label>\r\n            <multiselect \r\n                v-model=\"owner\" \r\n                label=\"username\" \r\n                :options=\"users\" \r\n                track-by=\"username\" \r\n                :searchable=\"true\"\r\n                :internal-search=\"false\"\r\n                :options-limit=\"25\"\r\n                :show-no-results=\"false\"\r\n                @search-change=\"usersFind\">\r\n            </multiselect><br>\r\n            <CTextarea\r\n              placeholder=\"Enter a description for the case.  The more detail the better.\"\r\n              required\r\n              v-model=\"description\"\r\n              label=\"Description\"\r\n              rows=5\r\n            >\r\n            </CTextarea>\r\n            <CRow>\r\n              <CCol col=\"12\" lg=\"6\">\r\n                <CSelect \r\n                    label=\"TLP\"\r\n                    :options=\"tlps\"\r\n                    :value.sync=\"tlp\"\r\n                    placeholder=\"Select a TLP\"\r\n                  >\r\n                  </CSelect>\r\n              </CCol>\r\n              <CCol col=\"12\" lg=\"6\">\r\n                <CSelect \r\n                    label=\"Severity\"\r\n                    :options=\"severities\"\r\n                    :value.sync=\"severity\"\r\n                    placeholder=\"Select a Severity\"\r\n                  >\r\n                  </CSelect>\r\n              </CCol>\r\n            </CRow>\r\n            <div role=\"group\" class=\"form-group\">\r\n                <label class=\"typo__label\">Tags</label>\r\n                <multiselect v-model=\"selected_tags\" placeholder=\"Select tags to apply to this input\" :taggable=\"true\" tag-placeholder=\"Add new tag\" track-by=\"name\" label=\"name\" :options=\"tag_list\" :multiple=\"true\" @tag=\"addTag\" :close-on-select=\"false\">\r\n                </multiselect>\r\n            </div>\r\n        </CForm>\r\n      </div>\r\n      <template #footer>\r\n          <CButton @click=\"dismiss()\" color=\"secondary\">Dismiss</CButton>\r\n        <CButton @click=\"createCase()\" color=\"primary\">Create</CButton>\r\n      </template>\r\n    </CModal>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {vSelect} from \"vue-select\";\r\nimport { mapState} from 'vuex';\r\nexport default {\r\n    name: 'CreateCaseModal',\r\n    props: {\r\n        show: Boolean,\r\n        events: Array,\r\n    },\r\n    computed: mapState(['settings']),\r\n    data(){\r\n        return {\r\n            title: \"\",\r\n            description: \"\",\r\n            selected_tags: Array(),\r\n            use_case_template: false,\r\n            case_templates: [],\r\n            case_template: null,\r\n            tlp: 2,\r\n            users:[],\r\n            owner: null,\r\n            severity: 2,\r\n            modalStatus: this.show,\r\n            severities: [\r\n                {'label':'Low', 'value':1},\r\n                {'label':'Medium', 'value':2},\r\n                {'label':'High', 'value':3},\r\n                {'label':'Critical', 'value':4}\r\n            ],\r\n            tlps: [\r\n                {'label': 'WHITE', 'value':1},\r\n                {'label': 'GREEN', 'value':2},\r\n                {'label': 'AMBER', 'value':3},\r\n                {'label': 'RED', 'value':4}\r\n            ],\r\n            tag_list: [],\r\n            tags: Array\r\n        }\r\n    },\r\n    watch: {\r\n        show: function() {\r\n            this.modalStatus = this.show\r\n        },\r\n        settings: function() {\r\n            this.use_case_template = this.settings.require_case_templates\r\n        },\r\n        modalStatus: function(){\r\n            if(this.modalStatus) {\r\n                this.loadTags()\r\n                this.loadData()\r\n                this.loadUsers()\r\n            }\r\n            this.$emit('update:show', this.modalStatus)\r\n            if(!this.modalStatus) {\r\n                this.reset()\r\n            }\r\n        },\r\n        case_template: function() {\r\n            this.applyCaseTemplate()\r\n        },\r\n        use_case_template: function() {\r\n            if(!this.use_case_template) {\r\n                this.case_template = null\r\n            }\r\n            \r\n            this.applyCaseTemplate()\r\n        }\r\n    },\r\n    created() {\r\n    },\r\n    methods: {\r\n        usersFind(query) {\r\n            this.$store.dispatch('getUsersByName', query).then(resp => {\r\n                this.users = this.$store.getters.users\r\n            })\r\n        },\r\n        applyCaseTemplate() {\r\n            if(this.case_template) {\r\n                this.severity = this.case_template.severity\r\n                this.tlp = this.case_template.tlp\r\n            }\r\n\r\n            // Remove tags when the template was changed\r\n            // removing only case template tags\r\n            for(let tag in this.selected_tags) {\r\n                if('from_template' in this.selected_tags[tag]) {\r\n                    this.selected_tags.splice(tag, 1)\r\n                }\r\n            }\r\n\r\n            // Add the tags from the new case template\r\n            if(this.case_template) {\r\n                for(let tag in this.case_template.tags) {\r\n                    if(this.selected_tags.filter(t => t.uuid === this.case_template.tags[tag].uuid).length < 1) {\r\n                        this.case_template.tags[tag]['from_template'] = true\r\n                        this.selected_tags.push(this.case_template.tags[tag])\r\n                    }                    \r\n                }\r\n            }\r\n        },\r\n        loadUsers() {\r\n            this.$store.dispatch('getUsers').then(resp => {\r\n                this.users = this.$store.getters.users\r\n            })\r\n        },\r\n        loadCaseTemplates() {\r\n\r\n        },\r\n        loadData() {\r\n            this.$store.dispatch('getCaseTemplateList', '').then(resp => {\r\n                this.case_templates = resp.data\r\n            })\r\n        },\r\n        caseTemplateFind(query) {\r\n            this.$store.dispatch('getCaseTemplateList', query).then(resp => {\r\n                this.case_templates = resp.data\r\n            })\r\n        },\r\n        createCase() {\r\n            let title = this.title;\r\n            let description = this.description;\r\n            let events = [];\r\n            let severity = this.severity;\r\n            let tlp = this.tlp;\r\n            let tags = Array();\r\n\r\n            if(this.events) {\r\n                for(let evt in this.events) {\r\n                    events.push(this.events[evt])\r\n                }\r\n            }\r\n\r\n            for(let tag in this.selected_tags) {\r\n                tags.push(this.selected_tags[tag].name)\r\n            }\r\n\r\n            let request_data = {title,description,events,tlp,severity,tags}\r\n            if(this.owner) {\r\n                request_data['owner_uuid'] = this.owner.uuid\r\n            }\r\n\r\n            if(this.case_template) {\r\n                let case_template_uuid = this.case_template.uuid;\r\n                request_data = {title,description,case_template_uuid, events,tlp,severity,tags}\r\n            }\r\n\r\n            this.$store.dispatch('createCase', request_data)\r\n            .then(resp => {\r\n                if(resp.status == 200) {\r\n                    this.modalStatus = false\r\n                    let case_uuid = resp.data.uuid\r\n                    this.$router.push({name:'View Case', params:{uuid:case_uuid}})\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n        },\r\n        loadTags: function() {\r\n            this.tag_list = Array()\r\n            this.$store.dispatch('getTags').then(resp => {\r\n                for(let i in resp.data) {\r\n                    this.tag_list.push({'name': resp.data[i].name, 'uuid': resp.data[i].uuid})\r\n                }\r\n            })\r\n        },\r\n        reset () {\r\n            this.use_case_template = this.settings.require_case_templates\r\n            this.case_template = null\r\n            this.severity = 2\r\n            this.tlp = 2\r\n            this.selected_tags = Array()\r\n        },\r\n        dismiss() {\r\n            this.reset()\r\n            this.modalStatus = false            \r\n        },\r\n        addTag(newTag) {\r\n            const t = {\r\n                name: newTag,\r\n                uuid: ''\r\n            }\r\n            this.tag_list.push(t)\r\n            this.selected_tags.push(t)\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateCaseModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateCaseModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateCaseModal.vue?vue&type=template&id=ee9c8d02&\"\nimport script from \"./CreateCaseModal.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateCaseModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}